var us=Object.defineProperty;var Za=e=>{throw TypeError(e)};var vs=(e,t,r)=>t in e?us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pt=(e,t,r)=>vs(e,typeof t!="symbol"?t+"":t,r),ba=(e,t,r)=>t.has(e)||Za("Cannot "+r);var _=(e,t,r)=>(ba(e,t,"read from private field"),r?r.call(e):t.get(e)),te=(e,t,r)=>t.has(e)?Za("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(ba(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ve=(e,t,r)=>(ba(e,t,"access private method"),r);var La=Array.isArray,ps=Array.prototype.indexOf,Gr=Array.prototype.includes,Zn=Array.from,Vr=Object.defineProperty,Zr=Object.getOwnPropertyDescriptor,_s=Object.getOwnPropertyDescriptors,mi=Object.prototype,hs=Array.prototype,ja=Object.getPrototypeOf,Xa=Object.isExtensible;const bs=()=>{};function ms(e){for(var t=0;t<e.length;t++)e[t]()}function xi(){var e,t,r=new Promise((n,a)=>{e=n,t=a});return{promise:r,resolve:e,reject:t}}function xs(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const n of e)if(r.push(n),r.length===t)break;return r}const ze=2,Tn=4,Xn=8,gi=1<<24,ar=16,Ct=32,Wr=64,yi=128,bt=512,Ie=1024,Ge=2048,St=4096,st=8192,_r=16384,Nn=32768,ln=65536,Bn=1<<17,wi=1<<18,_n=1<<19,gs=1<<20,tr=1<<25,Kr=65536,wa=1<<21,ea=1<<22,hr=1<<23,Dr=Symbol("$state"),ys=Symbol(""),ki=Symbol("proxy path"),$r=new class extends Error{constructor(){super(...arguments);Pt(this,"name","StaleReactionError");Pt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},ws=1,ks=11;function Es(e){{const t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}}function Ts(){{const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}}function ei(){{const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}}function Ss(e,t){{const r=new Error(`component_api_changed
Calling \`${e}\` on a component instance (of ${t}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw r.name="Svelte error",r}}function Cs(e,t){{const r=new Error(`component_api_invalid_new
Attempted to instantiate ${e} with \`new ${t}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw r.name="Svelte error",r}}function As(){{const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}}function $s(e,t,r){{const n=new Error(`each_key_duplicate
${r?`Keyed each block has duplicate key \`${r}\` at indexes ${e} and ${t}`:`Keyed each block has duplicate key at indexes ${e} and ${t}`}
https://svelte.dev/e/each_key_duplicate`);throw n.name="Svelte error",n}}function Rs(e){{const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}}function Ns(){{const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}}function Os(e){{const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}}function Ms(){{const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}}function Ps(e){{const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}}function Is(){{const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}}function Ls(){{const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}}function js(){{const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}}function Ds(){{const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}}const Fs=1,Us=2,Ei=4,qs=8,zs=16,Gs=1,Vs=2,Fe=Symbol(),h=Symbol("filename"),Ti="http://www.w3.org/1999/xhtml";var Da="font-weight: bold",Fa="font-weight: normal";function Ks(e){console.warn(`%c[svelte] console_log_state
%cYour \`console.${e}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead
https://svelte.dev/e/console_log_state`,Da,Fa)}function yn(e){console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Da,Fa)}function Hs(){console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",Da,Fa)}function Si(e){return e===this.v}function Bs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ci(e){return!Bs(e,this.v)}let Ys=!1;var Ws="font-weight: bold",Js="font-weight: normal";function ti(e){console.warn(`%c[svelte] state_snapshot_uncloneable
%c${e?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:

${e}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}
https://svelte.dev/e/state_snapshot_uncloneable`,Ws,Js)}const Qs=[];function Zs(e,t=!1,r=!1){if(!t){const n=[],a=wn(e,new Map,"",n,null,r);if(n.length===1&&n[0]==="")ti();else if(n.length>0){const i=n.length>10?n.slice(0,7):n.slice(0,10),s=n.length-i.length;let l=i.map(d=>`- <value>${d}`).join(`
`);s>0&&(l+=`
- ...and ${s} more`),ti(l)}return a}return wn(e,new Map,"",Qs,null,r)}function wn(e,t,r,n,a=null,i=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(La(e)){var l=Array(e.length);t.set(e,l),a!==null&&t.set(a,l);for(var d=0;d<e.length;d+=1){var g=e[d];d in e&&(l[d]=wn(g,t,`${r}[${d}]`,n,null,i))}return l}if(ja(e)===mi){l={},t.set(e,l),a!==null&&t.set(a,l);for(var p in e)l[p]=wn(e[p],t,`${r}.${p}`,n,null,i);return l}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!i)return wn(e.toJSON(),t,`${r}.toJSON()`,n,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return n.push(r),e}}function j(e,t){return e.label=t,ta(e.v,t),e}function ta(e,t){var r;return(r=e==null?void 0:e[ki])==null||r.call(e,t),e}function Xs(e){const t=new Error,r=eo();return r.length===0?null:(r.unshift(`
`),Vr(t,"stack",{value:r.join(`
`)}),Vr(t,"name",{value:e}),t)}function eo(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const r=t.split(`
`),n=[];for(let a=0;a<r.length;a++){const i=r[a],s=i.replaceAll("\\","/");if(i.trim()!=="Error"){if(i.includes("validate_each_keys"))return[];s.includes("svelte/src/internal")||s.includes("node_modules/.vite")||n.push(i)}}return n}let Se=null;function cn(e){Se=e}let rr=null;function Yn(e){rr=e}function A(e,t,r,n,a,i){const s=rr;rr={type:t,file:r[h],line:n,column:a,parent:s,...i};try{return e()}finally{rr=s}}let On=null;function ri(e){On=e}function rt(e,t=!1,r){Se={p:Se,i:!1,c:null,e:null,s:e,x:null,l:null},Se.function=r,On=r}function nt(e){var t=Se,r=t.e;if(r!==null){t.e=null;for(var n of r)Bi(n)}return e!==void 0&&(t.x=e),t.i=!0,Se=t.p,On=(Se==null?void 0:Se.function)??null,e??{}}function Ai(){return!0}let Rr=[];function $i(){var e=Rr;Rr=[],ms(e)}function zt(e){if(Rr.length===0&&!kn){var t=Rr;queueMicrotask(()=>{t===Rr&&$i()})}Rr.push(e)}function to(){for(;Rr.length>0;)$i()}const ka=new WeakMap;function Ri(e){var t=ue;if(t===null)return ne.f|=hr,e;if(e instanceof Error&&!ka.has(e)&&ka.set(e,ro(e,t)),(t.f&Nn)===0&&(t.f&Tn)===0)throw!t.parent&&e instanceof Error&&Ni(e),e;dn(e,t)}function dn(e,t){for(;t!==null;){if((t.f&yi)!==0){if((t.f&Nn)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e instanceof Error&&Ni(e),e}function ro(e,t){var s,l,d;const r=Zr(e,"message");if(!(r&&!r.configurable)){for(var n=Va?"  ":"	",a=`
${n}in ${((s=t.fn)==null?void 0:s.name)||"<unknown>"}`,i=t.ctx;i!==null;)a+=`
${n}in ${(l=i.function)==null?void 0:l[h].split("/").pop()}`,i=i.p;return{message:e.message+`
${a}
`,stack:(d=e.stack)==null?void 0:d.split(`
`).filter(g=>!g.includes("svelte/src/internal")).join(`
`)}}}function Ni(e){const t=ka.get(e);t&&(Vr(e,"message",{value:t.message}),Vr(e,"stack",{value:t.stack}))}const no=-7169;function ke(e,t){e.f=e.f&no|t}function Ua(e){(e.f&bt)!==0||e.deps===null?ke(e,Ie):ke(e,St)}function Oi(e){if(e!==null)for(const t of e)(t.f&ze)===0||(t.f&Kr)===0||(t.f^=Kr,Oi(t.deps))}function Mi(e,t,r){(e.f&Ge)!==0?t.add(e):(e.f&St)!==0&&r.add(e),Oi(e.deps),ke(e,Ie)}const Un=new Set;let re=null,Ea=null,Ue=null,Xe=[],ra=null,Ta=!1,kn=!1;var en,tn,Or,rn,Cn,An,Mr,Xt,nn,Kt,Sa,Ca,Pi;const Ja=class Ja{constructor(){te(this,Kt);Pt(this,"committed",!1);Pt(this,"current",new Map);Pt(this,"previous",new Map);te(this,en,new Set);te(this,tn,new Set);te(this,Or,0);te(this,rn,0);te(this,Cn,null);te(this,An,new Set);te(this,Mr,new Set);te(this,Xt,new Map);Pt(this,"is_fork",!1);te(this,nn,!1)}is_deferred(){return this.is_fork||_(this,rn)>0}skip_effect(t){_(this,Xt).has(t)||_(this,Xt).set(t,{d:[],m:[]})}unskip_effect(t){var r=_(this,Xt).get(t);if(r){_(this,Xt).delete(t);for(var n of r.d)ke(n,Ge),kt(n);for(n of r.m)ke(n,St),kt(n)}}process(t){var a;Xe=[],this.apply();var r=[],n=[];for(const i of t)Ve(this,Kt,Sa).call(this,i,r,n);if(this.is_deferred()){Ve(this,Kt,Ca).call(this,n),Ve(this,Kt,Ca).call(this,r);for(const[i,s]of _(this,Xt))Di(i,s)}else{for(const i of _(this,en))i();_(this,en).clear(),_(this,Or)===0&&Ve(this,Kt,Pi).call(this),Ea=this,re=null,ni(n),ni(r),Ea=null,(a=_(this,Cn))==null||a.resolve()}Ue=null}capture(t,r){r!==Fe&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&hr)===0&&(this.current.set(t,t.v),Ue==null||Ue.set(t,t.v))}activate(){re=this,this.apply()}deactivate(){re===this&&(re=null,Ue=null)}flush(){if(this.activate(),Xe.length>0){if(Ii(),re!==null&&re!==this)return}else _(this,Or)===0&&this.process([]);this.deactivate()}discard(){for(const t of _(this,tn))t(this);_(this,tn).clear()}increment(t){Z(this,Or,_(this,Or)+1),t&&Z(this,rn,_(this,rn)+1)}decrement(t){Z(this,Or,_(this,Or)-1),t&&Z(this,rn,_(this,rn)-1),!_(this,nn)&&(Z(this,nn,!0),zt(()=>{Z(this,nn,!1),this.is_deferred()?Xe.length>0&&this.flush():this.revive()}))}revive(){for(const t of _(this,An))_(this,Mr).delete(t),ke(t,Ge),kt(t);for(const t of _(this,Mr))ke(t,St),kt(t);this.flush()}oncommit(t){_(this,en).add(t)}ondiscard(t){_(this,tn).add(t)}settled(){return(_(this,Cn)??Z(this,Cn,xi())).promise}static ensure(){if(re===null){const t=re=new Ja;Un.add(re),kn||zt(()=>{re===t&&t.flush()})}return re}apply(){}};en=new WeakMap,tn=new WeakMap,Or=new WeakMap,rn=new WeakMap,Cn=new WeakMap,An=new WeakMap,Mr=new WeakMap,Xt=new WeakMap,nn=new WeakMap,Kt=new WeakSet,Sa=function(t,r,n){t.f^=Ie;for(var a=t.first,i=null;a!==null;){var s=a.f,l=(s&(Ct|Wr))!==0,d=l&&(s&Ie)!==0,g=d||(s&st)!==0||_(this,Xt).has(a);if(!g&&a.fn!==null){l?a.f^=Ie:i!==null&&(s&(Tn|Xn|gi))!==0?i.b.defer_effect(a):(s&Tn)!==0?r.push(a):Pn(a)&&((s&ar)!==0&&_(this,Mr).add(a),vn(a));var p=a.first;if(p!==null){a=p;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)u===i&&(i=null),a=u.next,u=u.parent}},Ca=function(t){for(var r=0;r<t.length;r+=1)Mi(t[r],_(this,An),_(this,Mr))},Pi=function(){var a;if(Un.size>1){this.previous.clear();var t=Ue,r=!0;for(const i of Un){if(i===this){r=!1;continue}const s=[];for(const[d,g]of this.current){if(i.current.has(d))if(r&&g!==i.current.get(d))i.current.set(d,g);else continue;s.push(d)}if(s.length===0)continue;const l=[...i.current.keys()].filter(d=>!this.current.has(d));if(l.length>0){var n=Xe;Xe=[];const d=new Set,g=new Map;for(const p of s)Li(p,l,d,g);if(Xe.length>0){re=i,i.apply();for(const p of Xe)Ve(a=i,Kt,Sa).call(a,p,[],[]);i.deactivate()}Xe=n}}re=null,Ue=t}this.committed=!0,Un.delete(this)};let br=Ja;function ao(e){var t=kn;kn=!0;try{for(var r;;){if(to(),Xe.length===0&&(re==null||re.flush(),Xe.length===0))return ra=null,r;Ii()}}finally{kn=t}}function Ii(){Ta=!0;var e=new Set;try{for(var t=0;Xe.length>0;){var r=br.ensure();if(t++>1e3){var n=new Map;for(const i of r.current.keys())for(const[s,l]of i.updated??[]){var a=n.get(s);a||(a={error:l.error,count:0},n.set(s,a)),a.count+=l.count}for(const i of n.values())i.error&&console.error(i.error);io()}r.process(Xe),mr.clear();for(const i of r.current.keys())e.add(i)}}finally{Xe=[],Ta=!1,ra=null;for(const i of e)i.updated=null}}function io(){try{Ms()}catch(e){Vr(e,"stack",{value:""}),dn(e,ra)}}let gt=null;function ni(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(_r|st))===0&&Pn(n)&&(gt=new Set,vn(n),n.deps===null&&n.first===null&&n.nodes===null&&n.teardown===null&&n.ac===null&&Wi(n),(gt==null?void 0:gt.size)>0)){mr.clear();for(const a of gt){if((a.f&(_r|st))!==0)continue;const i=[a];let s=a.parent;for(;s!==null;)gt.has(s)&&(gt.delete(s),i.push(s)),s=s.parent;for(let l=i.length-1;l>=0;l--){const d=i[l];(d.f&(_r|st))===0&&vn(d)}}gt.clear()}}gt=null}}function Li(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const a of e.reactions){const i=a.f;(i&ze)!==0?Li(a,t,r,n):(i&(ea|ar))!==0&&(i&Ge)===0&&ji(a,t,n)&&(ke(a,Ge),kt(a))}}function ji(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const a of e.deps){if(Gr.call(t,a))return!0;if((a.f&ze)!==0&&ji(a,t,r))return r.set(a,!0),!0}return r.set(e,!1),!1}function kt(e){for(var t=ra=e;t.parent!==null;){t=t.parent;var r=t.f;if(Ta&&t===ue&&(r&ar)!==0&&(r&wi)===0)return;if((r&(Wr|Ct))!==0){if((r&Ie)===0)return;t.f^=Ie}}Xe.push(t)}function Di(e,t){if(!((e.f&Ct)!==0&&(e.f&Ie)!==0)){(e.f&Ge)!==0?t.d.push(e):(e.f&St)!==0&&t.m.push(e),ke(e,Ie);for(var r=e.first;r!==null;)Di(r,t),r=r.next}}function so(e){let t=0,r=Hr(0),n;return j(r,"createSubscriber version"),()=>{Ka()&&(o(r),Ha(()=>(t===0&&(n=hn(()=>e(()=>En(r)))),t+=1,()=>{zt(()=>{t-=1,t===0&&(n==null||n(),n=void 0,En(r))})})))}}var oo=ln|_n|yi;function lo(e,t,r){new co(e,t,r)}var vt,Ia,It,Pr,Lt,pt,Ze,jt,er,vr,Ir,pr,an,Lr,sn,on,Dt,Jn,Le,fo,uo,Aa,zn,Gn,$a;class co{constructor(t,r,n){te(this,Le);Pt(this,"parent");Pt(this,"is_pending",!1);te(this,vt);te(this,Ia,null);te(this,It);te(this,Pr);te(this,Lt);te(this,pt,null);te(this,Ze,null);te(this,jt,null);te(this,er,null);te(this,vr,null);te(this,Ir,0);te(this,pr,0);te(this,an,!1);te(this,Lr,!1);te(this,sn,new Set);te(this,on,new Set);te(this,Dt,null);te(this,Jn,so(()=>(Z(this,Dt,Hr(_(this,Ir))),j(_(this,Dt),"$effect.pending()"),()=>{Z(this,Dt,null)})));Z(this,vt,t),Z(this,It,r),Z(this,Pr,n),this.parent=ue.b,this.is_pending=!!_(this,It).pending,Z(this,Lt,Ba(()=>{ue.b=this;{var a=Ve(this,Le,Aa).call(this);try{Z(this,pt,_t(()=>n(a)))}catch(i){this.error(i)}_(this,pr)>0?Ve(this,Le,Gn).call(this):this.is_pending=!1}return()=>{var i;(i=_(this,vr))==null||i.remove()}},oo))}defer_effect(t){Mi(t,_(this,sn),_(this,on))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!_(this,It).pending}update_pending_count(t){Ve(this,Le,$a).call(this,t),Z(this,Ir,_(this,Ir)+t),!(!_(this,Dt)||_(this,an))&&(Z(this,an,!0),zt(()=>{Z(this,an,!1),_(this,Dt)&&un(_(this,Dt),_(this,Ir))}))}get_effect_pending(){return _(this,Jn).call(this),o(_(this,Dt))}error(t){var r=_(this,It).onerror;let n=_(this,It).failed;if(_(this,Lr)||!r&&!n)throw t;_(this,pt)&&(tt(_(this,pt)),Z(this,pt,null)),_(this,Ze)&&(tt(_(this,Ze)),Z(this,Ze,null)),_(this,jt)&&(tt(_(this,jt)),Z(this,jt,null));var a=!1,i=!1;const s=()=>{if(a){Hs();return}a=!0,i&&Ds(),br.ensure(),Z(this,Ir,0),_(this,jt)!==null&&Ur(_(this,jt),()=>{Z(this,jt,null)}),this.is_pending=this.has_pending_snippet(),Z(this,pt,Ve(this,Le,zn).call(this,()=>(Z(this,Lr,!1),_t(()=>_(this,Pr).call(this,_(this,vt)))))),_(this,pr)>0?Ve(this,Le,Gn).call(this):this.is_pending=!1};zt(()=>{try{i=!0,r==null||r(t,s),i=!1}catch(l){dn(l,_(this,Lt)&&_(this,Lt).parent)}n&&Z(this,jt,Ve(this,Le,zn).call(this,()=>{br.ensure(),Z(this,Lr,!0);try{return _t(()=>{n(_(this,vt),()=>t,()=>s)})}catch(l){return dn(l,_(this,Lt).parent),null}finally{Z(this,Lr,!1)}}))})}}vt=new WeakMap,Ia=new WeakMap,It=new WeakMap,Pr=new WeakMap,Lt=new WeakMap,pt=new WeakMap,Ze=new WeakMap,jt=new WeakMap,er=new WeakMap,vr=new WeakMap,Ir=new WeakMap,pr=new WeakMap,an=new WeakMap,Lr=new WeakMap,sn=new WeakMap,on=new WeakMap,Dt=new WeakMap,Jn=new WeakMap,Le=new WeakSet,fo=function(){try{Z(this,pt,_t(()=>_(this,Pr).call(this,_(this,vt))))}catch(t){this.error(t)}},uo=function(){const t=_(this,It).pending;t&&(Z(this,Ze,_t(()=>t(_(this,vt)))),zt(()=>{var r=Ve(this,Le,Aa).call(this);Z(this,pt,Ve(this,Le,zn).call(this,()=>(br.ensure(),_t(()=>_(this,Pr).call(this,r))))),_(this,pr)>0?Ve(this,Le,Gn).call(this):(Ur(_(this,Ze),()=>{Z(this,Ze,null)}),this.is_pending=!1)}))},Aa=function(){var t=_(this,vt);return this.is_pending&&(Z(this,vr,xr()),_(this,vt).before(_(this,vr)),t=_(this,vr)),t},zn=function(t){var r=ue,n=ne,a=Se;Vt(_(this,Lt)),xt(_(this,Lt)),cn(_(this,Lt).ctx);try{return t()}catch(i){return Ri(i),null}finally{Vt(r),xt(n),cn(a)}},Gn=function(){const t=_(this,It).pending;_(this,pt)!==null&&(Z(this,er,document.createDocumentFragment()),_(this,er).append(_(this,vr)),Zi(_(this,pt),_(this,er))),_(this,Ze)===null&&Z(this,Ze,_t(()=>t(_(this,vt))))},$a=function(t){var r;if(!this.has_pending_snippet()){this.parent&&Ve(r=this.parent,Le,$a).call(r,t);return}if(Z(this,pr,_(this,pr)+t),_(this,pr)===0){this.is_pending=!1;for(const n of _(this,sn))ke(n,Ge),kt(n);for(const n of _(this,on))ke(n,St),kt(n);_(this,sn).clear(),_(this,on).clear(),_(this,Ze)&&Ur(_(this,Ze),()=>{Z(this,Ze,null)}),_(this,er)&&(_(this,vt).before(_(this,er)),Z(this,er,null))}};function vo(e,t,r,n){const a=qa;var i=e.filter(f=>!f.settled);if(r.length===0&&i.length===0){n(t.map(a));return}var s=re,l=ue,d=po(),g=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(f=>f.promise)):null;function p(f){d();try{n(f)}catch(y){(l.f&_r)===0&&dn(y,l)}s==null||s.deactivate(),Ra()}if(r.length===0){g.then(()=>p(t.map(a)));return}function u(){d(),Promise.all(r.map(f=>ho(f))).then(f=>p([...t.map(a),...f])).catch(f=>dn(f,l))}g?g.then(u):u()}function po(){var e=ue,t=ne,r=Se,n=re,a=rr;return function(s=!0){Vt(e),xt(t),cn(r),s&&(n==null||n.activate()),Yn(a)}}async function H(e){var t=await e;return()=>t}function Ra(){Vt(null),xt(null),cn(null),Yn(null)}const _o=new Set;function qa(e){var t=ze|Ge,r=ne!==null&&(ne.f&ze)!==0?ne:null;return ue!==null&&(ue.f|=_n),{ctx:Se,deps:null,effects:null,equals:Si,f:t,fn:e,reactions:null,rv:0,v:Fe,wv:0,parent:r??ue,ac:null}}function ho(e,t,r){let n=ue;n===null&&Ts();var a=n.b,i=void 0,s=Hr(Fe);s.label=t;var l=!ne,d=new Map;return jo(()=>{var y;var g=xi();i=g.promise;try{Promise.resolve(e()).then(g.resolve,g.reject).then(()=>{p===re&&p.committed&&p.deactivate(),Ra()})}catch(x){g.reject(x),Ra()}var p=re;if(l){var u=a.is_rendered();a.update_pending_count(1),p.increment(u),(y=d.get(p))==null||y.reject($r),d.delete(p),d.set(p,g)}const f=(x,C=void 0)=>{if(p.activate(),C)C!==$r&&(s.f|=hr,un(s,C));else{(s.f&hr)!==0&&(s.f^=hr),un(s,x);for(const[b,T]of d){if(d.delete(b),b===p)break;T.reject($r)}}l&&(a.update_pending_count(-1),p.decrement(u))};g.promise.then(f,x=>f(null,x||"unknown"))}),Hi(()=>{for(const g of d.values())g.reject($r)}),s.f|=ea,new Promise(g=>{function p(u){function f(){u===i?g(s):p(i)}u.then(f,f)}p(i)})}function Xr(e){const t=qa(e);return Xi(t),t}function bo(e){const t=qa(e);return t.equals=Ci,t}function mo(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)tt(t[r])}}let ma=[];function xo(e){for(var t=e.parent;t!==null;){if((t.f&ze)===0)return(t.f&_r)===0?t:null;t=t.parent}return null}function za(e){var t,r=ue;Vt(xo(e));{let n=fn;ai(new Set);try{Gr.call(ma,e)&&As(),ma.push(e),e.f&=~Kr,mo(e),t=ns(e)}finally{Vt(r),ai(n),ma.pop()}}return t}function Fi(e){var t=za(e);if(!e.equals(t)&&(e.wv=ts(),(!(re!=null&&re.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){ke(e,Ie);return}Br||(Ue!==null?(Ka()||re!=null&&re.is_fork)&&Ue.set(e,t):Ua(e))}function go(e){var t,r;if(e.effects!==null)for(const n of e.effects)(n.teardown||n.ac)&&((t=n.teardown)==null||t.call(n),(r=n.ac)==null||r.abort($r),n.teardown=bs,n.ac=null,Sn(n,0),Ya(n))}function Ui(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&vn(t)}let fn=new Set;const mr=new Map;function ai(e){fn=e}let Ga=!1;function yo(){Ga=!0}function Hr(e,t){var r={f:0,v:e,reactions:null,equals:Si,rv:0,wv:0};return r}function q(e,t){const r=Hr(e);return Xi(r),r}function wo(e,t=!1,r=!0){const n=Hr(e);return t||(n.equals=Ci),n}function E(e,t,r=!1){ne!==null&&(!Et||(ne.f&Bn)!==0)&&Ai()&&(ne.f&(ze|ar|ea|Bn))!==0&&(mt===null||!Gr.call(mt,e))&&js();let n=r?Ne(t):t;return ta(n,e.label),un(e,n)}function un(e,t){var a;if(!e.equals(t)){var r=e.v;Br?mr.set(e,t):mr.set(e,r),e.v=t;var n=br.ensure();n.capture(e,r);{if(ue!==null){e.updated??(e.updated=new Map);const i=(((a=e.updated.get(""))==null?void 0:a.count)??0)+1;if(e.updated.set("",{error:null,count:i}),i>5){const s=Xs("updated at");if(s!==null){let l=e.updated.get(s.stack);l||(l={error:s,count:0},e.updated.set(s.stack,l)),l.count++}}}ue!==null&&(e.set_during_effect=!0)}if((e.f&ze)!==0){const i=e;(e.f&Ge)!==0&&za(i),Ua(i)}e.wv=ts(),zi(e,Ge),ue!==null&&(ue.f&Ie)!==0&&(ue.f&(Ct|Wr))===0&&(ut===null?Uo([e]):ut.push(e)),!n.is_fork&&fn.size>0&&!Ga&&qi()}return t}function qi(){Ga=!1;for(const e of fn)(e.f&Ie)!==0&&ke(e,St),Pn(e)&&vn(e);fn.clear()}function En(e){E(e,e.v+1)}function zi(e,t){var r=e.reactions;if(r!==null)for(var n=r.length,a=0;a<n;a++){var i=r[a],s=i.f;if((s&Bn)!==0){fn.add(i);continue}var l=(s&Ge)===0;if(l&&ke(i,t),(s&ze)!==0){var d=i;Ue==null||Ue.delete(d),(s&Kr)===0&&(s&bt&&(i.f|=Kr),zi(d,St))}else l&&((s&ar)!==0&&gt!==null&&gt.add(i),kt(i))}}const ko=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Ne(e){if(typeof e!="object"||e===null||Dr in e)return e;const t=ja(e);if(t!==mi&&t!==hs)return e;var r=new Map,n=La(e),a=q(0),i=qr,s=p=>{if(qr===i)return p();var u=ne,f=qr;xt(null),ci(i);var y=p();return xt(u),ci(f),y};n&&(r.set("length",q(e.length)),e=To(e));var l="";let d=!1;function g(p){if(!d){d=!0,l=p,j(a,`${l} version`);for(const[u,f]of r)j(f,Ar(l,u));d=!1}}return new Proxy(e,{defineProperty(p,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Is();var y=r.get(u);return y===void 0?s(()=>{var x=q(f.value);return r.set(u,x),typeof u=="string"&&j(x,Ar(l,u)),x}):E(y,f.value,!0),!0},deleteProperty(p,u){var f=r.get(u);if(f===void 0){if(u in p){const y=s(()=>q(Fe));r.set(u,y),En(a),j(y,Ar(l,u))}}else E(f,Fe),En(a);return!0},get(p,u,f){var b;if(u===Dr)return e;if(u===ki)return g;var y=r.get(u),x=u in p;if(y===void 0&&(!x||(b=Zr(p,u))!=null&&b.writable)&&(y=s(()=>{var T=Ne(x?p[u]:Fe),L=q(T);return j(L,Ar(l,u)),L}),r.set(u,y)),y!==void 0){var C=o(y);return C===Fe?void 0:C}return Reflect.get(p,u,f)},getOwnPropertyDescriptor(p,u){var f=Reflect.getOwnPropertyDescriptor(p,u);if(f&&"value"in f){var y=r.get(u);y&&(f.value=o(y))}else if(f===void 0){var x=r.get(u),C=x==null?void 0:x.v;if(x!==void 0&&C!==Fe)return{enumerable:!0,configurable:!0,value:C,writable:!0}}return f},has(p,u){var C;if(u===Dr)return!0;var f=r.get(u),y=f!==void 0&&f.v!==Fe||Reflect.has(p,u);if(f!==void 0||ue!==null&&(!y||(C=Zr(p,u))!=null&&C.writable)){f===void 0&&(f=s(()=>{var b=y?Ne(p[u]):Fe,T=q(b);return j(T,Ar(l,u)),T}),r.set(u,f));var x=o(f);if(x===Fe)return!1}return y},set(p,u,f,y){var O;var x=r.get(u),C=u in p;if(n&&u==="length")for(var b=f;b<x.v;b+=1){var T=r.get(b+"");T!==void 0?E(T,Fe):b in p&&(T=s(()=>q(Fe)),r.set(b+"",T),j(T,Ar(l,b)))}if(x===void 0)(!C||(O=Zr(p,u))!=null&&O.writable)&&(x=s(()=>q(void 0)),j(x,Ar(l,u)),E(x,Ne(f)),r.set(u,x));else{C=x.v!==Fe;var L=s(()=>Ne(f));E(x,L)}var $=Reflect.getOwnPropertyDescriptor(p,u);if($!=null&&$.set&&$.set.call(y,f),!C){if(n&&typeof u=="string"){var K=r.get("length"),J=Number(u);Number.isInteger(J)&&J>=K.v&&E(K,J+1)}En(a)}return!0},ownKeys(p){o(a);var u=Reflect.ownKeys(p).filter(x=>{var C=r.get(x);return C===void 0||C.v!==Fe});for(var[f,y]of r)y.v!==Fe&&!(f in p)&&u.push(f);return u},setPrototypeOf(){Ls()}})}function Ar(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:ko.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function Fr(e){try{if(e!==null&&typeof e=="object"&&Dr in e)return e[Dr]}catch{}return e}const Eo=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function To(e){return new Proxy(e,{get(t,r,n){var a=Reflect.get(t,r,n);return Eo.has(r)?function(...i){yo();var s=a.apply(this,i);return qi(),s}:a}})}function So(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:r,lastIndexOf:n,includes:a}=e;e.indexOf=function(i,s){const l=r.call(this,i,s);if(l===-1){for(let d=s??0;d<this.length;d+=1)if(Fr(this[d])===i){yn("array.indexOf(...)");break}}return l},e.lastIndexOf=function(i,s){const l=n.call(this,i,s??this.length-1);if(l===-1){for(let d=0;d<=(s??this.length-1);d+=1)if(Fr(this[d])===i){yn("array.lastIndexOf(...)");break}}return l},e.includes=function(i,s){const l=a.call(this,i,s);if(!l){for(let d=0;d<this.length;d+=1)if(Fr(this[d])===i){yn("array.includes(...)");break}}return l},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=a}}function U(e,t,r=!0){try{e===t!=(Fr(e)===Fr(t))&&yn(r?"===":"!==")}catch{}return e===t===r}function ii(e,t,r=!0){return e==t!=(Fr(e)==Fr(t))&&yn(r?"==":"!="),e==t===r}var si,Va,Gi,Vi;function Co(){if(si===void 0){si=window,Va=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Gi=Zr(t,"firstChild").get,Vi=Zr(t,"nextSibling").get,Xa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Xa(r)&&(r.__t=void 0),e.__svelte_meta=null,So()}}function xr(e=""){return document.createTextNode(e)}function Wn(e){return Gi.call(e)}function Mn(e){return Vi.call(e)}function c(e,t){return Wn(e)}function ye(e,t=!1){{var r=Wn(e);return r instanceof Comment&&r.data===""?Mn(r):r}}function v(e,t=1,r=!1){let n=e;for(;t--;)n=Mn(n);return n}function Ao(e){e.textContent=""}function Ki(){return!1}function $o(e,t,r){return document.createElementNS(Ti,e,void 0)}function Ro(e,t){{const r=document.body;e.autofocus=!0,zt(()=>{document.activeElement===r&&e.focus()})}}let oi=!1;function No(){oi||(oi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function na(e){var t=ne,r=ue;xt(null),Vt(null);try{return e()}finally{xt(t),Vt(r)}}function Oo(e,t,r,n=r){e.addEventListener(t,()=>na(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),No()}function Mo(e){ue===null&&(ne===null&&Os(e),Ns()),Br&&Rs(e)}function Po(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ir(e,t,r){for(var n=ue;n!==null&&(n.f&Bn)!==0;)n=n.parent;n!==null&&(n.f&st)!==0&&(e|=st);var a={ctx:Se,deps:null,nodes:null,f:e|Ge|bt,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(a.component_function=On,r)try{vn(a)}catch(l){throw tt(a),l}else t!==null&&kt(a);var i=a;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&_n)===0&&(i=i.first,(e&ar)!==0&&(e&ln)!==0&&i!==null&&(i.f|=ln)),i!==null&&(i.parent=n,n!==null&&Po(i,n),ne!==null&&(ne.f&ze)!==0&&(e&Wr)===0)){var s=ne;(s.effects??(s.effects=[])).push(i)}return a}function Ka(){return ne!==null&&!Et}function Hi(e){const t=ir(Xn,null,!1);return ke(t,Ie),t.teardown=e,t}function At(e){Mo("$effect"),Vr(e,"name",{value:"$effect"});var t=ue.f,r=!ne&&(t&Ct)!==0&&(t&Nn)===0;if(r){var n=Se;(n.e??(n.e=[])).push(e)}else return Bi(e)}function Bi(e){return ir(Tn|gs,e,!1)}function Io(e){br.ensure();const t=ir(Wr|_n,e,!0);return(r={})=>new Promise(n=>{r.outro?Ur(t,()=>{tt(t),n(void 0)}):(tt(t),n(void 0))})}function Lo(e){return ir(Tn,e,!1)}function jo(e){return ir(ea|_n,e,!0)}function Ha(e,t=0){return ir(Xn|t,e,!0)}function B(e,t=[],r=[],n=[]){vo(n,t,r,a=>{ir(Xn,()=>e(...a.map(o)),!0)})}function Ba(e,t=0){var r=ir(ar|t,e,!0);return r.dev_stack=rr,r}function _t(e){return ir(Ct|_n,e,!0)}function Yi(e){var t=e.teardown;if(t!==null){const r=Br,n=ne;li(!0),xt(null);try{t.call(null)}finally{li(r),xt(n)}}}function Ya(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const a=r.ac;a!==null&&na(()=>{a.abort($r)});var n=r.next;(r.f&Wr)!==0?r.parent=null:tt(r,t),r=n}}function Do(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ct)===0&&tt(t),t=r}}function tt(e,t=!0){var r=!1;(t||(e.f&wi)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Fo(e.nodes.start,e.nodes.end),r=!0),Ya(e,t&&!r),Sn(e,0),ke(e,_r);var n=e.nodes&&e.nodes.t;if(n!==null)for(const i of n)i.stop();Yi(e);var a=e.parent;a!==null&&a.first!==null&&Wi(e),e.component_function=null,e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Fo(e,t){for(;e!==null;){var r=e===t?null:Mn(e);e.remove(),e=r}}function Wi(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Ur(e,t,r=!0){var n=[];Ji(e,n,!0);var a=()=>{r&&tt(e),t&&t()},i=n.length;if(i>0){var s=()=>--i||a();for(var l of n)l.out(s)}else a()}function Ji(e,t,r){if((e.f&st)===0){e.f^=st;var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||r)&&t.push(l);for(var a=e.first;a!==null;){var i=a.next,s=(a.f&ln)!==0||(a.f&Ct)!==0&&(e.f&ar)!==0;Ji(a,t,s?r:!1),a=i}}}function Wa(e){Qi(e,!0)}function Qi(e,t){if((e.f&st)!==0){e.f^=st,(e.f&Ie)===0&&(ke(e,Ge),kt(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&ln)!==0||(r.f&Ct)!==0;Qi(r,a?t:!1),r=n}var i=e.nodes&&e.nodes.t;if(i!==null)for(const s of i)(s.is_global||t)&&s.in()}}function Zi(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var a=r===n?null:Mn(r);t.append(r),r=a}}let Vn=!1,Br=!1;function li(e){Br=e}let ne=null,Et=!1;function xt(e){ne=e}let ue=null;function Vt(e){ue=e}let mt=null;function Xi(e){ne!==null&&(mt===null?mt=[e]:mt.push(e))}let et=null,at=0,ut=null;function Uo(e){ut=e}let es=1,Nr=0,qr=Nr;function ci(e){qr=e}function ts(){return++es}function Pn(e){var t=e.f;if((t&Ge)!==0)return!0;if(t&ze&&(e.f&=~Kr),(t&St)!==0){for(var r=e.deps,n=r.length,a=0;a<n;a++){var i=r[a];if(Pn(i)&&Fi(i),i.wv>e.wv)return!0}(t&bt)!==0&&Ue===null&&ke(e,Ie)}return!1}function rs(e,t,r=!0){var n=e.reactions;if(n!==null&&!(mt!==null&&Gr.call(mt,e)))for(var a=0;a<n.length;a++){var i=n[a];(i.f&ze)!==0?rs(i,t,!1):t===i&&(r?ke(i,Ge):(i.f&Ie)!==0&&ke(i,St),kt(i))}}function ns(e){var C;var t=et,r=at,n=ut,a=ne,i=mt,s=Se,l=Et,d=qr,g=e.f;et=null,at=0,ut=null,ne=(g&(Ct|Wr))===0?e:null,mt=null,cn(e.ctx),Et=!1,qr=++Nr,e.ac!==null&&(na(()=>{e.ac.abort($r)}),e.ac=null);try{e.f|=wa;var p=e.fn,u=p();e.f|=Nn;var f=e.deps,y=re==null?void 0:re.is_fork;if(et!==null){var x;if(y||Sn(e,at),f!==null&&at>0)for(f.length=at+et.length,x=0;x<et.length;x++)f[at+x]=et[x];else e.deps=f=et;if(Ka()&&(e.f&bt)!==0)for(x=at;x<f.length;x++)((C=f[x]).reactions??(C.reactions=[])).push(e)}else!y&&f!==null&&at<f.length&&(Sn(e,at),f.length=at);if(Ai()&&ut!==null&&!Et&&f!==null&&(e.f&(ze|St|Ge))===0)for(x=0;x<ut.length;x++)rs(ut[x],e);if(a!==null&&a!==e){if(Nr++,a.deps!==null)for(let b=0;b<r;b+=1)a.deps[b].rv=Nr;if(t!==null)for(const b of t)b.rv=Nr;ut!==null&&(n===null?n=ut:n.push(...ut))}return(e.f&hr)!==0&&(e.f^=hr),u}catch(b){return Ri(b)}finally{e.f^=wa,et=t,at=r,ut=n,ne=a,mt=i,cn(s),Et=l,qr=d}}function qo(e,t){let r=t.reactions;if(r!==null){var n=ps.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}if(r===null&&(t.f&ze)!==0&&(et===null||!Gr.call(et,t))){var i=t;(i.f&bt)!==0&&(i.f^=bt,i.f&=~Kr),Ua(i),go(i),Sn(i,0)}}function Sn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)qo(e,r[n])}function vn(e){var t=e.f;if((t&_r)===0){ke(e,Ie);var r=ue,n=Vn;ue=e,Vn=!0;{var a=On;ri(e.component_function);var i=rr;Yn(e.dev_stack??rr)}try{(t&(ar|gi))!==0?Do(e):Ya(e),Yi(e);var s=ns(e);e.teardown=typeof s=="function"?s:null,e.wv=es;var l;Ys&&(e.f&Ge)!==0&&e.deps}finally{Vn=n,ue=r,ri(a),Yn(i)}}}async function Kn(){await Promise.resolve(),ao()}function o(e){var t=e.f,r=(t&ze)!==0;if(ne!==null&&!Et){var n=ue!==null&&(ue.f&_r)!==0;if(!n&&(mt===null||!Gr.call(mt,e))){var a=ne.deps;if((ne.f&wa)!==0)e.rv<Nr&&(e.rv=Nr,et===null&&a!==null&&a[at]===e?at++:et===null?et=[e]:et.push(e));else{(ne.deps??(ne.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[ne]:Gr.call(i,ne)||i.push(ne)}}}if(_o.delete(e),Br&&mr.has(e))return mr.get(e);if(r){var s=e;if(Br){var l=s.v;return((s.f&Ie)===0&&s.reactions!==null||is(s))&&(l=za(s)),mr.set(s,l),l}var d=(s.f&bt)===0&&!Et&&ne!==null&&(Vn||(ne.f&bt)!==0),g=(s.f&Nn)===0;Pn(s)&&(d&&(s.f|=bt),Fi(s)),d&&!g&&(Ui(s),as(s))}if(Ue!=null&&Ue.has(e))return Ue.get(e);if((e.f&hr)!==0)throw e.v;return e.v}function as(e){if(e.f|=bt,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&ze)!==0&&(t.f&bt)===0&&(Ui(t),as(t))}function is(e){if(e.v===Fe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(mr.has(t)||(t.f&ze)!==0&&is(t))return!0;return!1}function hn(e){var t=Et;try{return Et=!0,e()}finally{Et=t}}const zo=["touchstart","touchmove"];function Go(e){return zo.includes(e)}function w(e,t,r){return(...n)=>{const a=e(...n);var i=a.nodeType===ks?a.firstChild:a;return ss(i,t,r),a}}function Vo(e,t,r){e.__svelte_meta={parent:rr,loc:{file:t,line:r[0],column:r[1]}},r[2]&&ss(e.firstChild,t,r[2])}function ss(e,t,r){for(var n=0;e&&n<r.length;)e.nodeType===ws&&Vo(e,t,r[n++]),e=e.nextSibling}const Hn=Symbol("events"),os=new Set,Na=new Set;function Ko(e,t,r,n={}){function a(i){if(n.capture||Oa.call(t,i),!i.cancelBubble)return na(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zt(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function Ho(e,t,r,n,a){var i={capture:n,passive:a},s=Ko(e,t,r,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Hi(()=>{t.removeEventListener(e,s,i)})}function ee(e,t,r){(t[Hn]??(t[Hn]={}))[e]=r}function sr(e){for(var t=0;t<e.length;t++)os.add(e[t]);for(var r of Na)r(e)}let di=null;function Oa(e){var b,T;var t=this,r=t.ownerDocument,n=e.type,a=((b=e.composedPath)==null?void 0:b.call(e))||[],i=a[0]||e.target;di=e;var s=0,l=di===e&&e.__root;if(l){var d=a.indexOf(l);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var g=a.indexOf(t);if(g===-1)return;d<=g&&(s=d)}if(i=a[s]||e.target,i!==t){Vr(e,"currentTarget",{configurable:!0,get(){return i||r}});var p=ne,u=ue;xt(null),Vt(null);try{for(var f,y=[];i!==null;){var x=i.assignedSlot||i.parentNode||i.host||null;try{var C=(T=i[Hn])==null?void 0:T[n];C!=null&&(!i.disabled||e.target===i)&&C.call(i,e)}catch(L){f?y.push(L):f=L}if(e.cancelBubble||x===t||x===null)break;i=x}if(f){for(let L of y)queueMicrotask(()=>{throw L});throw f}}finally{e.__root=t,delete e.currentTarget,xt(p),Vt(u)}}}var _i,hi;const xa=(hi=(_i=globalThis==null?void 0:globalThis.window)==null?void 0:_i.trustedTypes)==null?void 0:hi.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Bo(e){return(xa==null?void 0:xa.createHTML(e))??e}function Yo(e,t=!1){var r=$o("template");return e=e.replaceAll("<!>","<!---->"),r.innerHTML=t?Bo(e):e,r.content}function Ma(e,t){var r=ue;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function k(e,t){var r=(t&Gs)!==0,n=(t&Vs)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=Yo(i?e:"<!>"+e,!0),r||(a=Wn(a)));var s=n||Va?document.importNode(a,!0):a.cloneNode(!0);if(r){var l=Wn(s),d=s.lastChild;Ma(l,d)}else Ma(s,s);return s}}function ht(){var e=document.createDocumentFragment(),t=document.createComment(""),r=xr();return e.append(t,r),Ma(t,r),e}function m(e,t){e!==null&&e.before(t)}function N(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Wo(e,t){return Jo(e,t)}const qn=new Map;function Jo(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:s=!0}){Co();var l=new Set,d=u=>{for(var f=0;f<u.length;f++){var y=u[f];if(!l.has(y)){l.add(y);var x=Go(y);for(const T of[t,document]){var C=qn.get(T);C===void 0&&(C=new Map,qn.set(T,C));var b=C.get(y);b===void 0?(T.addEventListener(y,Oa,{passive:x}),C.set(y,1)):C.set(y,b+1)}}}};d(Zn(os)),Na.add(d);var g=void 0,p=Io(()=>{var u=r??t.appendChild(xr());return lo(u,{pending:()=>{}},f=>{rt({});var y=Se;i&&(y.c=i),a&&(n.$$events=a),g=e(f,n)||{},nt()}),()=>{var C;for(var f of l)for(const b of[t,document]){var y=qn.get(b),x=y.get(f);--x==0?(b.removeEventListener(f,Oa),y.delete(f),y.size===0&&qn.delete(b)):y.set(f,x)}Na.delete(d),u!==r&&((C=u.parentNode)==null||C.removeChild(u))}});return Qo.set(g,p),g}let Qo=new WeakMap;function ot(e){e&&Cs(e[h]??"a component",e.name)}function lt(){const e=Se==null?void 0:Se.function;function t(r){Ss(r,e[h])}return{$destroy:()=>t("$destroy()"),$on:()=>t("$on(...)"),$set:()=>t("$set(...)")}}var yt,Ft,it,jr,$n,Rn,Qn;class Zo{constructor(t,r=!0){Pt(this,"anchor");te(this,yt,new Map);te(this,Ft,new Map);te(this,it,new Map);te(this,jr,new Set);te(this,$n,!0);te(this,Rn,()=>{var t=re;if(_(this,yt).has(t)){var r=_(this,yt).get(t),n=_(this,Ft).get(r);if(n)Wa(n),_(this,jr).delete(r);else{var a=_(this,it).get(r);a&&(_(this,Ft).set(r,a.effect),_(this,it).delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),n=a.effect)}for(const[i,s]of _(this,yt)){if(_(this,yt).delete(i),i===t)break;const l=_(this,it).get(s);l&&(tt(l.effect),_(this,it).delete(s))}for(const[i,s]of _(this,Ft)){if(i===r||_(this,jr).has(i))continue;const l=()=>{if(Array.from(_(this,yt).values()).includes(i)){var g=document.createDocumentFragment();Zi(s,g),g.append(xr()),_(this,it).set(i,{effect:s,fragment:g})}else tt(s);_(this,jr).delete(i),_(this,Ft).delete(i)};_(this,$n)||!n?(_(this,jr).add(i),Ur(s,l,!1)):l()}}});te(this,Qn,t=>{_(this,yt).delete(t);const r=Array.from(_(this,yt).values());for(const[n,a]of _(this,it))r.includes(n)||(tt(a.effect),_(this,it).delete(n))});this.anchor=t,Z(this,$n,r)}ensure(t,r){var n=re,a=Ki();if(r&&!_(this,Ft).has(t)&&!_(this,it).has(t))if(a){var i=document.createDocumentFragment(),s=xr();i.append(s),_(this,it).set(t,{effect:_t(()=>r(s)),fragment:i})}else _(this,Ft).set(t,_t(()=>r(this.anchor)));if(_(this,yt).set(n,t),a){for(const[l,d]of _(this,Ft))l===t?n.unskip_effect(d):n.skip_effect(d);for(const[l,d]of _(this,it))l===t?n.unskip_effect(d.effect):n.skip_effect(d.effect);n.oncommit(_(this,Rn)),n.ondiscard(_(this,Qn))}else _(this,Rn).call(this)}}yt=new WeakMap,Ft=new WeakMap,it=new WeakMap,jr=new WeakMap,$n=new WeakMap,Rn=new WeakMap,Qn=new WeakMap;function z(e,t,r=!1){var n=new Zo(e),a=r?ln:0;function i(s,l){n.ensure(s,l)}Ba(()=>{var s=!1;t((l,d=0)=>{s=!0,i(d,l)}),s||i(!1,null)},a)}function zr(e,t){return t}function Xo(e,t,r){for(var n=[],a=t.length,i,s=t.length,l=0;l<a;l++){let u=t[l];Ur(u,()=>{if(i){if(i.pending.delete(u),i.done.add(u),i.pending.size===0){var f=e.outrogroups;Pa(Zn(i.done)),f.delete(i),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var d=n.length===0&&r!==null;if(d){var g=r,p=g.parentNode;Ao(p),p.append(g),e.items.clear()}Pa(t,!d)}else i={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(i)}function Pa(e,t=!0){for(var r=0;r<e.length;r++)tt(e[r],t)}var fi;function qe(e,t,r,n,a,i=null){var s=e,l=new Map,d=(t&Ei)!==0;if(d){var g=e;s=g.appendChild(xr())}var p=null,u=bo(()=>{var T=r();return La(T)?T:T==null?[]:Zn(T)}),f,y=!0;function x(){b.fallback=p,el(b,f,s,t,n),p!==null&&(f.length===0?(p.f&tr)===0?Wa(p):(p.f^=tr,gn(p,null,s)):Ur(p,()=>{p=null}))}var C=Ba(()=>{f=o(u);for(var T=f.length,L=new Set,$=re,K=Ki(),J=0;J<T;J+=1){var O=f[J],D=n(O,J),G=y?null:l.get(D);G?(G.v&&un(G.v,O),G.i&&un(G.i,J),K&&$.unskip_effect(G.e)):(G=tl(l,y?s:fi??(fi=xr()),O,D,J,a,t,r),y||(G.e.f|=tr),l.set(D,G)),L.add(D)}if(T===0&&i&&!p&&(y?p=_t(()=>i(s)):(p=_t(()=>i(fi??(fi=xr()))),p.f|=tr)),T>L.size&&rl(f,n),!y)if(K){for(const[R,F]of l)L.has(R)||$.skip_effect(F.e);$.oncommit(x),$.ondiscard(()=>{})}else x();o(u)}),b={effect:C,items:l,outrogroups:null,fallback:p};y=!1}function xn(e){for(;e!==null&&(e.f&Ct)===0;)e=e.next;return e}function el(e,t,r,n,a){var F,S,M,Q,X,ie,ce,oe,me;var i=(n&qs)!==0,s=t.length,l=e.items,d=xn(e.effect.first),g,p=null,u,f=[],y=[],x,C,b,T;if(i)for(T=0;T<s;T+=1)x=t[T],C=a(x,T),b=l.get(C).e,(b.f&tr)===0&&((S=(F=b.nodes)==null?void 0:F.a)==null||S.measure(),(u??(u=new Set)).add(b));for(T=0;T<s;T+=1){if(x=t[T],C=a(x,T),b=l.get(C).e,e.outrogroups!==null)for(const de of e.outrogroups)de.pending.delete(b),de.done.delete(b);if((b.f&tr)!==0)if(b.f^=tr,b===d)gn(b,null,r);else{var L=p?p.next:d;b===e.effect.last&&(e.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),ur(e,p,b),ur(e,b,L),gn(b,L,r),p=b,f=[],y=[],d=xn(p.next);continue}if((b.f&st)!==0&&(Wa(b),i&&((Q=(M=b.nodes)==null?void 0:M.a)==null||Q.unfix(),(u??(u=new Set)).delete(b))),b!==d){if(g!==void 0&&g.has(b)){if(f.length<y.length){var $=y[0],K;p=$.prev;var J=f[0],O=f[f.length-1];for(K=0;K<f.length;K+=1)gn(f[K],$,r);for(K=0;K<y.length;K+=1)g.delete(y[K]);ur(e,J.prev,O.next),ur(e,p,J),ur(e,O,$),d=$,p=O,T-=1,f=[],y=[]}else g.delete(b),gn(b,d,r),ur(e,b.prev,b.next),ur(e,b,p===null?e.effect.first:p.next),ur(e,p,b),p=b;continue}for(f=[],y=[];d!==null&&d!==b;)(g??(g=new Set)).add(d),y.push(d),d=xn(d.next);if(d===null)continue}(b.f&tr)===0&&f.push(b),p=b,d=xn(b.next)}if(e.outrogroups!==null){for(const de of e.outrogroups)de.pending.size===0&&(Pa(Zn(de.done)),(X=e.outrogroups)==null||X.delete(de));e.outrogroups.size===0&&(e.outrogroups=null)}if(d!==null||g!==void 0){var D=[];if(g!==void 0)for(b of g)(b.f&st)===0&&D.push(b);for(;d!==null;)(d.f&st)===0&&d!==e.fallback&&D.push(d),d=xn(d.next);var G=D.length;if(G>0){var R=(n&Ei)!==0&&s===0?r:null;if(i){for(T=0;T<G;T+=1)(ce=(ie=D[T].nodes)==null?void 0:ie.a)==null||ce.measure();for(T=0;T<G;T+=1)(me=(oe=D[T].nodes)==null?void 0:oe.a)==null||me.fix()}Xo(e,D,R)}}i&&zt(()=>{var de,we;if(u!==void 0)for(b of u)(we=(de=b.nodes)==null?void 0:de.a)==null||we.apply()})}function tl(e,t,r,n,a,i,s,l){var d=(s&Fs)!==0?(s&zs)===0?wo(r,!1,!1):Hr(r):null,g=(s&Us)!==0?Hr(a):null;return d&&(d.trace=()=>{l()[(g==null?void 0:g.v)??a]}),{v:d,i:g,e:_t(()=>(i(t,d??r,g??a,l),()=>{e.delete(n)}))}}function gn(e,t,r){if(e.nodes)for(var n=e.nodes.start,a=e.nodes.end,i=t&&(t.f&tr)===0?t.nodes.start:r;n!==null;){var s=Mn(n);if(i.before(n),n===a)return;n=s}}function ur(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function rl(e,t){const r=new Map,n=e.length;for(let a=0;a<n;a++){const i=t(e[a],a);if(r.has(i)){const s=String(r.get(i)),l=String(a);let d=String(i);d.startsWith("[object ")&&(d=null),$s(s,l,d)}r.set(i,a)}}const ui=[...` 	
\r\f \v\uFEFF`];function nl(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,s=0;(s=n.indexOf(a,s))>=0;){var l=s+i;(s===0||ui.includes(n[s-1]))&&(l===n.length||ui.includes(n[l]))?n=(s===0?"":n.substring(0,s))+n.substring(l+1):s=l}}return n===""?null:n}function Te(e,t,r,n,a,i){var s=e.__className;if(s!==r||s===void 0){var l=nl(r,n,i);l==null?e.removeAttribute("class"):e.className=l,e.__className=r}else if(i&&a!==i)for(var d in i){var g=!!i[d];(a==null||g!==!!a[d])&&e.classList.toggle(d,g)}return i}const al=Symbol("is custom element"),il=Symbol("is html");function wt(e,t,r,n){var a=sl(e);a[t]!==(a[t]=r)&&(t==="loading"&&(e[ys]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ol(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function sl(e){return e.__attributes??(e.__attributes={[al]:e.nodeName.includes("-"),[il]:e.namespaceURI===Ti})}var vi=new Map;function ol(e){var t=e.getAttribute("is")||e.nodeName,r=vi.get(t);if(r)return r;vi.set(t,r=[]);for(var n,a=e,i=Element.prototype;i!==a;){n=_s(a);for(var s in n)n[s].set&&r.push(s);a=ja(a)}return r}function gr(e,t,r=t){var n=new WeakSet;Oo(e,"input",async a=>{e.type==="checkbox"&&ei();var i=a?e.defaultValue:e.value;if(i=ga(e)?ya(i):i,r(i),re!==null&&n.add(re),await Kn(),i!==(i=t())){var s=e.selectionStart,l=e.selectionEnd,d=e.value.length;if(e.value=i??"",l!==null){var g=e.value.length;s===l&&l===d&&g>d?(e.selectionStart=g,e.selectionEnd=g):(e.selectionStart=s,e.selectionEnd=Math.min(l,g))}}}),hn(t)==null&&e.value&&(r(ga(e)?ya(e.value):e.value),re!==null&&n.add(re)),Ha(()=>{e.type==="checkbox"&&ei();var a=t();if(e===document.activeElement){var i=Ea??re;if(n.has(i))return}ga(e)&&a===ya(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function ga(e){var t=e.type;return t==="number"||t==="range"}function ya(e){return e===""?null:+e}function pi(e,t){return e===t||(e==null?void 0:e[Dr])===t}function ll(e={},t,r,n){return Lo(()=>{var a,i;return Ha(()=>{a=i,i=[],hn(()=>{e!==r(...i)&&(t(e,...i),a&&pi(r(...a),e)&&t(null,...a))})}),()=>{zt(()=>{i&&pi(r(...i),e)&&t(null,...i)})}}),e}function cl(e,t,r,n){var a=n,i=!0,s=()=>(i&&(i=!1,a=n),a),l;l=e[t],l===void 0&&n!==void 0&&(l=s());var d;return d=()=>{var g=e[t];return g===void 0?s():(i=!0,g)},d}function Pe(e,...t){return hn(()=>{try{let r=!1;const n=[];for(const a of t)a&&typeof a=="object"&&Dr in a?(n.push(Zs(a,!0)),r=!0):n.push(a);r&&(Ks(e),console.log("%c[snapshot]","color: grey",...n))}catch{}}),t}{let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Ps(t)},set:n=>{r=n}})}};var cd=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function ls(e){Se===null&&Es("onMount"),At(()=>{const t=hn(e);if(typeof t=="function")return t})}const dl="5";var bi;typeof window<"u"&&((bi=window.__svelte??(window.__svelte={})).v??(bi.v=new Set)).add(dl);const fe=ta(Ne({refreshCounter:0,currentTab:"overview",currentMemoryTab:"core"}),"dashboard"),Zt=ta(Ne({checked:!1,authenticated:!1}),"auth");function Ut(){fe.refreshCounter++}nr[h]="src/components/LoginOverlay.svelte";var fl=w(k('<div class="mb-4 px-3 py-2 rounded-md bg-error-950 border border-error-500/30 text-sm text-error-400"><i class="fa-solid fa-circle-exclamation mr-1"></i> </div>'),nr[h],[[48,12,[[49,16]]]]),ul=w(k('<i class="fa-solid fa-spinner fa-spin mr-1"></i> Signing in...',1),nr[h],[[75,16]]),vl=w(k('<i class="fa-solid fa-right-to-bracket mr-1"></i> Sign In',1),nr[h],[[77,16]]),pl=w(k(`<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"><form class="w-full max-w-sm mx-4 p-8 rounded-xl border border-border bg-surface shadow-2xl"><div class="text-center mb-6"><i class="fa-solid fa-robot text-3xl text-primary-400 mb-3"></i> <h2 class="text-lg font-semibold text-text">safe-agent</h2> <p class="text-sm text-text-muted mt-1">Enter the dashboard password to continue</p></div> <!> <label class="block mb-4"><span class="text-xs font-medium text-text-muted uppercase tracking-wide">Password</span> <input type="password" required="" class="mt-1 w-full px-3 py-2 rounded-md border border-border bg-surface-elevated text-text
                       placeholder-text-muted/50 focus:outline-none focus:ring-2 focus:ring-primary-500/50
                       disabled:opacity-50" placeholder="Enter password"/></label> <button type="submit" class="w-full px-4 py-2 rounded-md bg-primary-600 text-white font-medium text-sm
                   hover:bg-primary-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"><!></button></form></div>`),nr[h],[[36,0,[[37,4,[[41,8,[[42,12],[43,12],[44,12]]],[53,8,[[54,12],[55,12]]],[68,8]]]]]]);function nr(e,t){ot(new.target),rt(t,!0,nr);let r=j(q(""),"password"),n=j(q(""),"error"),a=j(q(!1),"loading");async function i(T){T.preventDefault(),E(n,""),E(a,!0);try{const L=(await H(fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o(r)})})))(),$=(await H(L.json()))();L.ok&&$.ok?(Zt.authenticated=!0,E(r,"")):E(n,$.error||"Login failed",!0)}catch{E(n,"Connection failed")}finally{E(a,!1)}}var s={...lt()},l=pl(),d=c(l),g=v(c(d),2);{var p=T=>{var L=fl(),$=v(c(L));B(()=>N($,` ${o(n)??""}`)),m(T,L)};A(()=>z(g,T=>{o(n)&&T(p)}),"if",nr,47,8)}var u=v(g,2),f=v(c(u),2);Ro(f);var y=v(u,2),x=c(y);{var C=T=>{var L=ul();m(T,L)},b=T=>{var L=vl();m(T,L)};A(()=>z(x,T=>{o(a)?T(C):T(b,!1)}),"if",nr,74,12)}return B(()=>{f.disabled=o(a),y.disabled=o(a)||!o(r)}),Ho("submit",d,i),gr(f,function(){return o(r)},function(L){E(r,L)}),m(e,l),nt(s)}class _l extends Error{constructor(){super("Unauthorized"),this.name="UnauthorizedError"}}async function ae(e,t,r){const n={method:e,headers:{}};r&&(n.headers["Content-Type"]="application/json",n.body=JSON.stringify(r));const a=await fetch(t,n);if(a.status===401)throw Zt.authenticated=!1,new _l;if(!a.ok)throw new Error(`${e} ${t}: ${a.status}`);return a.json()}Yr[h]="src/components/Header.svelte";var hl=w(k('<button class="px-4 py-2 border border-border rounded-md bg-surface text-sm hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-play mr-1"></i> Resume</button>'),Yr[h],[[79,12,[[83,16]]]]),bl=w(k('<button class="px-4 py-2 border border-border rounded-md bg-surface text-sm hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-pause mr-1"></i> Pause</button>'),Yr[h],[[86,12,[[90,16]]]]),ml=w(k('<header class="flex justify-between items-center px-6 py-4 border-b border-border bg-surface"><div class="flex items-center gap-3"><h1 class="text-lg font-semibold tracking-tight text-primary-400"><i class="fa-solid fa-robot mr-1"></i> safe-agent</h1> <span><i></i> </span> <span class="text-xs px-2 py-0.5 rounded-full font-medium bg-primary-950 text-primary-400"><i class="fa-solid fa-screwdriver-wrench mr-1"></i> </span></div> <div class="flex gap-2"><!> <button class="px-4 py-2 border border-border rounded-md bg-surface text-sm hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-bolt mr-1"></i> Force Tick</button> <button class="px-4 py-2 border border-border rounded-md bg-surface text-sm hover:bg-surface-elevated transition-colors text-text-muted" title="Sign out"><i class="fa-solid fa-right-from-bracket"></i></button></div></header>'),Yr[h],[[65,0,[[66,4,[[67,8,[[68,12]]],[70,8,[[71,12]]],[73,8,[[74,12]]]]],[77,4,[[94,8,[[98,12]]],[101,8,[[106,12]]]]]]]]);function Yr(e,t){ot(new.target),rt(t,!0,Yr);let r=j(q(!1),"paused"),n=j(q(0),"toolsCount"),a=j(q(""),"statusClass"),i=j(q("fa-spinner fa-spin"),"statusIcon"),s=j(q("loading..."),"statusText"),l=j(q(!1),"disconnected");async function d(){try{const S=(await H(ae("GET","/api/status")))();E(r,S.paused,!0),E(n,S.tools_count,!0),E(l,!1),S.paused?(E(a,"badge-paused"),E(i,"fa-circle-pause"),E(s,"paused")):(E(a,"badge-running"),E(i,"fa-circle-check"),E(s,"running"))}catch{E(l,!0),E(a,"text-error-500"),E(i,"fa-circle-xmark"),E(s,"disconnected")}}async function g(){(await H(ae("POST","/api/agent/pause")))(),Ut()}async function p(){(await H(ae("POST","/api/agent/resume")))(),Ut()}async function u(){(await H(ae("POST","/api/agent/tick")))(),Ut()}async function f(){try{(await H(fetch("/api/auth/logout",{method:"POST"})))()}catch{}Zt.authenticated=!1}At(()=>{fe.refreshCounter,d()});var y={...lt()},x=ml(),C=c(x),b=v(c(C),2),T=c(b),L=v(T,1,!0),$=v(b,2),K=v(c($)),J=v(C,2),O=c(J);{var D=S=>{var M=hl();ee("click",M,p),m(S,M)},G=S=>{var M=bl();ee("click",M,g),m(S,M)};A(()=>z(O,S=>{o(r)?S(D):S(G,!1)}),"if",Yr,78,8)}var R=v(O,2),F=v(R,2);return B(()=>{Te(b,1,`text-xs px-2 py-0.5 rounded-full font-medium ${o(a)??""}`),Te(T,1,`fa-solid ${o(i)??""} mr-1`),N(L,o(s)),N(K,`${o(n)??""} tools`)}),ee("click",R,u),ee("click",F,f),m(e,x),nt(y)}sr(["click"]);yr[h]="src/components/PendingActions.svelte";var xl=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No pending actions</p>'),yr[h],[[65,12]]),gl=w(k('<div class="p-3 border border-border rounded-md mb-2 bg-surface-muted"><div class="text-xs uppercase tracking-wider text-primary-500 font-semibold mb-1"><i class="fa-solid fa-gear mr-1"></i> </div> <pre class="text-xs whitespace-pre-wrap my-1 text-text font-mono"> </pre> <div class="text-xs text-text-muted mb-2"> </div> <div class="text-[11px] text-text-subtle"> </div> <div class="flex gap-1.5 mt-2"><button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface text-success-500 hover:bg-success-500/10 hover:border-success-500 transition-colors"><i class="fa-solid fa-check mr-1"></i>Approve</button> <button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface text-error-500 hover:bg-error-500/10 hover:border-error-500 transition-colors"><i class="fa-solid fa-xmark mr-1"></i>Reject</button></div></div>'),yr[h],[[68,16,[[69,20,[[70,24]]],[72,20],[73,20],[74,20],[75,20,[[76,24,[[80,28]]],[82,24,[[86,28]]]]]]]]),yl=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><div class="flex justify-between items-center border-b border-border"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted"><i class="fa-solid fa-clock-rotate-left mr-1.5"></i> Pending Actions</h2> <div class="flex gap-1.5 pr-3"><button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface text-success-500 hover:bg-success-500/10 hover:border-success-500 transition-colors">Approve All</button> <button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface text-error-500 hover:bg-error-500/10 hover:border-error-500 transition-colors">Reject All</button></div></div> <div class="p-3 max-h-96 overflow-y-auto custom-scroll"><!></div></section>'),yr[h],[[47,0,[[48,4,[[49,8,[[50,12]]],[52,8,[[53,12],[57,12]]]]],[63,4]]]]);function yr(e,t){ot(new.target),rt(t,!0,yr);let r=j(q(Ne([])),"actions");async function n(){try{E(r,(await H(ae("GET","/api/pending")))(),!0)}catch($){console.error(...Pe("error","loadPending:",$))}}async function a($){(await H(ae("POST",`/api/pending/${$}/approve`)))(),Ut()}async function i($){(await H(ae("POST",`/api/pending/${$}/reject`)))(),Ut()}async function s(){(await H(ae("POST","/api/pending/approve-all")))(),Ut()}async function l(){(await H(ae("POST","/api/pending/reject-all")))(),Ut()}function d($){var J;const K=(J=$.action)==null?void 0:J.params;return K?JSON.stringify(K,null,2):"{}"}At(()=>{fe.refreshCounter,n()});var g={...lt()},p=yl(),u=c(p),f=v(c(u),2),y=c(f),x=v(y,2),C=v(u,2),b=c(C);{var T=$=>{var K=xl();m($,K)},L=$=>{var K=ht(),J=ye(K);A(()=>qe(J,17,()=>o(r),O=>O.id,(O,D)=>{var G=gl(),R=c(G),F=v(c(R),1,!0);var S=v(R,2),M=c(S,!0);var Q=v(S,2),X=c(Q,!0);var ie=v(Q,2),ce=c(ie,!0);var oe=v(ie,2),me=c(oe),de=v(me,2);B(we=>{var Oe,V;N(F,((Oe=o(D).action)==null?void 0:Oe.tool)??"unknown"),N(M,we),N(X,o(D).reasoning??((V=o(D).action)==null?void 0:V.reasoning)??""),N(ce,o(D).proposed_at)},[()=>d(o(D))]),ee("click",me,function(){return a(o(D).id)}),ee("click",de,function(){return i(o(D).id)}),m(O,G)}),"each",yr,67,12),m($,K)};A(()=>z(b,$=>{U(o(r).length,0)?$(T):$(L,!1)}),"if",yr,64,8)}return ee("click",y,s),ee("click",x,l),m(e,p),nt(g)}sr(["click"]);qt[h]="src/components/ActivityLog.svelte";var wl=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No activity yet</p>'),qt[h],[[34,12]]),kl=w(k('<br/><span class="text-text-muted"> </span>',1),qt[h],[[42,28],[42,32]]),El=w(k('<div class="flex items-start gap-2.5 py-2 border-b border-border-muted text-sm"><div></div> <div class="flex-1"><strong> </strong> <!></div> <div class="text-[11px] text-text-subtle whitespace-nowrap"> </div></div>'),qt[h],[[37,16,[[38,20],[39,20,[[40,24]]],[45,20]]]]),Tl=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted border-b border-border"><i class="fa-solid fa-list-check mr-1.5"></i> Activity Log</h2> <div class="p-3 max-h-96 overflow-y-auto custom-scroll"><!></div></section>'),qt[h],[[28,0,[[29,4,[[30,8]]],[32,4]]]]);function qt(e,t){ot(new.target),rt(t,!0,qt);let r=j(q(Ne([])),"entries");async function n(){try{E(r,(await H(ae("GET","/api/activity?limit=30")))(),!0)}catch(u){console.error(...Pe("error","loadActivity:",u))}}function a(u){return U(u,"ok")?"bg-success-500":U(u,"error")?"bg-error-500":"bg-warning-500"}At(()=>{fe.refreshCounter,n()});var i={...lt()},s=Tl(),l=v(c(s),2),d=c(l);{var g=u=>{var f=wl();m(u,f)},p=u=>{var f=ht(),y=ye(f);A(()=>qe(y,17,()=>o(r),zr,(x,C)=>{var b=El(),T=c(b),L=v(T,2),$=c(L),K=c($,!0);var J=v($),O=v(J);{var D=F=>{var S=kl(),M=v(ye(S)),Q=c(M,!0);B(X=>N(Q,X),[()=>o(C).detail.slice(0,200)]),m(F,S)};A(()=>z(O,F=>{o(C).detail&&F(D)}),"if",qt,41,24)}var G=v(L,2),R=c(G,!0);B(F=>{Te(T,1,`w-1.5 h-1.5 rounded-full mt-1.5 shrink-0 ${F??""}`),N(K,o(C).action_type),N(J,`: ${o(C).summary??""} `),N(R,o(C).created_at)},[()=>a(o(C).status)]),m(x,b)}),"each",qt,36,12),m(u,f)};A(()=>z(d,u=>{U(o(r).length,0)?u(g):u(p,!1)}),"if",qt,33,8)}return m(e,s),nt(i)}$e[h]="src/components/MemoryPanel.svelte";var Sl=w(k("<button><i></i> </button>"),$e[h],[[67,12,[[72,16]]]]),Cl=w(k('<div class="px-4 py-2 border-b border-border"><input type="text" placeholder="Search archival memory..." class="w-full px-2.5 py-1.5 border border-border rounded-md bg-background text-text text-sm outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-900 font-sans"/></div>'),$e[h],[[78,8,[[79,12]]]]),Al=w(k('<p class="text-text-subtle text-sm italic text-center py-4">Error loading memory</p>'),$e[h],[[91,12]]),$l=w(k('<div class="whitespace-pre-wrap font-mono text-xs leading-relaxed"> </div>'),$e[h],[[93,12]]),Rl=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No conversation history</p>'),$e[h],[[96,16]]),Nl=w(k('<div class="py-1.5 border-b border-border-muted text-sm"><strong> </strong> <span class="text-text-muted"> </span><br/> </div>'),$e[h],[[99,20,[[100,24],[101,24],[101,75]]]]),Ol=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No archival entries</p>'),$e[h],[[108,16]]),Ml=w(k('<div class="py-1.5 border-b border-border-muted text-sm"><span class="text-xs text-primary-500 font-semibold uppercase tracking-wider"> </span> <span class="text-text-muted text-[11px]"> </span><br/> </div>'),$e[h],[[111,20,[[112,24],[113,24],[113,88]]]]),Pl=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted border-b border-border"><i class="fa-solid fa-brain mr-1.5"></i> Memory</h2> <div class="flex px-4 border-b border-border"></div> <!> <div class="p-3 max-h-96 overflow-y-auto custom-scroll"><!></div></section>'),$e[h],[[61,0,[[62,4,[[63,8]]],[65,4],[89,4]]]]);function $e(e,t){ot(new.target),rt(t,!0,$e);let r=j(q(""),"content"),n=j(q(Ne([])),"messages"),a=j(q(Ne([])),"archivalEntries"),i=j(q(""),"searchQuery"),s=j(q(!1),"error");const l=[{id:"core",label:"Core",icon:"fa-microchip"},{id:"conversation",label:"Conversation",icon:"fa-comments"},{id:"archival",label:"Archival",icon:"fa-box-archive"}];function d(O){fe.currentMemoryTab=O}async function g(){E(s,!1);try{if(U(fe.currentMemoryTab,"core")){const O=(await H(ae("GET","/api/memory/core")))();E(r,O.personality||"(empty)",!0),E(n,[],!0),E(a,[],!0)}else if(U(fe.currentMemoryTab,"conversation")){const O=(await H(ae("GET","/api/memory/conversation")))();E(n,O,!0),E(r,""),E(a,[],!0)}else if(U(fe.currentMemoryTab,"archival")){const O=o(i)?`/api/memory/archival?q=${encodeURIComponent(o(i))}`:"/api/memory/archival",D=(await H(ae("GET",O)))();E(a,D,!0),E(r,""),E(n,[],!0)}}catch(O){E(s,!0),console.error(...Pe("error","loadMemory:",O))}}function p(O){U(O.key,"Enter")&&g()}At(()=>{fe.refreshCounter,fe.currentMemoryTab,g()});var u={...lt()},f=Pl(),y=v(c(f),2);A(()=>qe(y,21,()=>l,zr,(O,D)=>{var G=Sl();let R;var F=c(G),S=v(F);B(()=>{R=Te(G,1,"mem-tab",null,R,{active:U(fe.currentMemoryTab,o(D).id)}),Te(F,1,`fa-solid ${o(D).icon??""} mr-1`),N(S,` ${o(D).label??""}`)}),ee("click",G,function(){return d(o(D).id)}),m(O,G)}),"each",$e,66,8);var x=v(y,2);{var C=O=>{var D=Cl(),G=c(D);ee("keyup",G,p),gr(G,function(){return o(i)},function(F){E(i,F)}),m(O,D)};A(()=>z(x,O=>{U(fe.currentMemoryTab,"archival")&&O(C)}),"if",$e,77,4)}var b=v(x,2),T=c(b);{var L=O=>{var D=Al();m(O,D)},$=O=>{var D=$l(),G=c(D);B(()=>N(G,o(r))),m(O,D)},K=O=>{var D=ht(),G=ye(D);{var R=S=>{var M=Rl();m(S,M)},F=S=>{var M=ht(),Q=ye(M);A(()=>qe(Q,17,()=>o(n),zr,(X,ie)=>{var ce=Nl(),oe=c(ce),me=c(oe,!0);var de=v(oe,2),we=c(de,!0);var Oe=v(de,2);B(()=>{N(me,o(ie).role),N(we,o(ie).created_at),N(Oe,` ${o(ie).content??""}`)}),m(X,ce)}),"each",$e,98,16),m(S,M)};A(()=>z(G,S=>{U(o(n).length,0)?S(R):S(F,!1)}),"if",$e,95,12)}m(O,D)},J=O=>{var D=ht(),G=ye(D);{var R=S=>{var M=Ol();m(S,M)},F=S=>{var M=ht(),Q=ye(M);A(()=>qe(Q,17,()=>o(a),zr,(X,ie)=>{var ce=Ml(),oe=c(ce),me=c(oe,!0);var de=v(oe,2),we=c(de,!0);var Oe=v(de,2);B(()=>{N(me,o(ie).category),N(we,o(ie).created_at),N(Oe,` ${o(ie).content??""}`)}),m(X,ce)}),"each",$e,110,16),m(S,M)};A(()=>z(G,S=>{U(o(a).length,0)?S(R):S(F,!1)}),"if",$e,107,12)}m(O,D)};A(()=>z(T,O=>{o(s)?O(L):U(fe.currentMemoryTab,"core")?O($,1):U(fe.currentMemoryTab,"conversation")?O(K,2):U(fe.currentMemoryTab,"archival")&&O(J,3)}),"if",$e,90,8)}return m(e,f),nt(u)}sr(["click","keyup"]);Gt[h]="src/components/StatsPanel.svelte";var Il=w(k('<i class="fa-regular fa-clock mr-1"></i> <br/>',1),Gt[h],[[48,20],[48,91]]),Ll=w(k("No ticks yet<br/>",1),Gt[h],[[50,32]]),jl=w(k('<div class="grid grid-cols-2 gap-3"><div class="text-center"><div class="text-3xl font-bold text-primary-500"> </div> <div class="text-[11px] text-text-muted uppercase tracking-wider mt-0.5">Ticks</div></div> <div class="text-center"><div class="text-3xl font-bold text-primary-500"> </div> <div class="text-[11px] text-text-muted uppercase tracking-wider mt-0.5">Actions</div></div> <div class="text-center"><div class="text-3xl font-bold text-success-500"> </div> <div class="text-[11px] text-text-muted uppercase tracking-wider mt-0.5">Approved</div></div> <div class="text-center"><div class="text-3xl font-bold text-error-500"> </div> <div class="text-[11px] text-text-muted uppercase tracking-wider mt-0.5">Rejected</div></div></div> <div class="mt-3 text-xs text-text-muted"><!> <i class="fa-solid fa-power-off mr-1"></i> </div>',1),Gt[h],[[28,12,[[29,16,[[30,20],[31,20]]],[33,16,[[34,20],[35,20]]],[37,16,[[38,20],[39,20]]],[41,16,[[42,20],[43,20]]]]],[46,12,[[52,16]]]]),Dl=w(k('<p class="text-text-subtle text-sm italic text-center py-4">Loading...</p>'),Gt[h],[[55,12]]),Fl=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted border-b border-border"><i class="fa-solid fa-chart-bar mr-1.5"></i> Stats</h2> <div class="p-3 max-h-96 overflow-y-auto custom-scroll"><!></div></section>'),Gt[h],[[22,0,[[23,4,[[24,8]]],[26,4]]]]);function Gt(e,t){ot(new.target),rt(t,!0,Gt);let r=j(q(null),"stats");async function n(){try{E(r,(await H(ae("GET","/api/stats")))(),!0)}catch(p){console.error(...Pe("error","loadStats:",p))}}At(()=>{fe.refreshCounter,n()});var a={...lt()},i=Fl(),s=v(c(i),2),l=c(s);{var d=p=>{var u=jl(),f=ye(u),y=c(f),x=c(y),C=c(x),b=v(y,2),T=c(b),L=c(T),$=v(b,2),K=c($),J=c(K),O=v($,2),D=c(O),G=c(D),R=v(f,2),F=c(R);{var S=X=>{var ie=Il(),ce=v(ye(ie));B(()=>N(ce,`Last tick: ${o(r).last_tick_at??""}`)),m(X,ie)},M=X=>{var ie=Ll();m(X,ie)};A(()=>z(F,X=>{o(r).last_tick_at?X(S):X(M,!1)}),"if",Gt,47,16)}var Q=v(F,3);B(()=>{N(C,o(r).total_ticks),N(L,o(r).total_actions),N(J,o(r).total_approved),N(G,o(r).total_rejected),N(Q,`Started: ${o(r).started_at??""}`)}),m(p,u)},g=p=>{var u=Dl();m(p,u)};A(()=>z(l,p=>{o(r)?p(d):p(g,!1)}),"if",Gt,27,8)}return m(e,i),nt(a)}Re[h]="src/components/ChatTab.svelte";var Ul=w(k('<div class="flex items-center justify-center h-full"><div class="text-center text-text-subtle"><i class="fa-solid fa-comments text-3xl mb-3 block text-text-subtle"></i> <p class="text-sm">No messages yet. Say something to the agent.</p></div></div>'),Re[h],[[98,12,[[99,16,[[100,20],[101,20]]]]]]),ql=w(k('<div class="flex justify-end"><div class="max-w-[70%] min-w-[120px]"><div class="bg-primary-600 text-white rounded-lg rounded-br-sm px-3 py-2 text-sm whitespace-pre-wrap break-words"> </div> <div class="text-[10px] text-text-subtle mt-0.5 text-right"> </div></div></div>'),Re[h],[[107,20,[[108,24,[[109,28],[112,28]]]]]]),zl=w(k('<div class="flex justify-start"><div class="max-w-[70%] min-w-[120px]"><div class="bg-surface-elevated border border-border rounded-lg rounded-bl-sm px-3 py-2 text-sm whitespace-pre-wrap break-words"> </div> <div class="text-[10px] text-text-subtle mt-0.5"> </div></div></div>'),Re[h],[[118,20,[[119,24,[[120,28],[123,28]]]]]]),Gl=w(k('<div class="flex justify-center"><div class="text-[11px] text-text-subtle italic px-3 py-1 bg-surface-muted rounded-full max-w-[80%] truncate"> </div></div>'),Re[h],[[130,20,[[131,24]]]]),Vl=w(k('<div class="flex justify-start"><div class="min-w-[120px]"><div class="bg-surface-elevated border border-border rounded-lg rounded-bl-sm px-3 py-2 text-sm text-text-muted"><i class="fa-solid fa-circle-notch fa-spin mr-1.5"></i>Thinking...</div></div></div>'),Re[h],[[139,16,[[140,20,[[141,24,[[142,28]]]]]]]]),Kl=w(k("<!> <!>",1),Re[h],[]),Hl=w(k('<div class="mx-4 mb-2 px-3 py-2 rounded-md bg-error-950 border border-error-500/30 text-error-400 text-xs"><i class="fa-solid fa-triangle-exclamation mr-1"></i> </div>'),Re[h],[[152,8,[[153,12]]]]),Bl=w(k('<i class="fa-solid fa-circle-notch fa-spin"></i>'),Re[h],[[178,20]]),Yl=w(k('<i class="fa-solid fa-paper-plane"></i>'),Re[h],[[180,20]]),Wl=w(k(`<div class="flex flex-col h-[calc(100vh-140px)]"><div class="flex-1 overflow-y-auto custom-scroll p-4 space-y-3"><!></div> <!> <div class="border-t border-border bg-surface px-4 py-3"><div class="flex gap-2 items-end"><textarea placeholder="Type a message..." rows="1" class="flex-1 px-3 py-2 rounded-md border border-border bg-background text-text text-sm outline-none
                       focus:border-primary-500 focus:ring-1 focus:ring-primary-500/50 font-sans
                       placeholder:text-text-subtle disabled:opacity-50 disabled:cursor-not-allowed resize-none"></textarea> <button class="px-4 py-2 rounded-md bg-primary-600 text-white text-sm font-medium
                       hover:bg-primary-500 transition-colors
                       disabled:opacity-50 disabled:cursor-not-allowed shrink-0"><!></button></div></div></div>`),Re[h],[[91,0,[[93,4],[158,4,[[159,8,[[160,12],[170,12]]]]]]]]);function Re(e,t){ot(new.target),rt(t,!0,Re);let r=j(q(Ne([])),"messages"),n=j(q(""),"input"),a=j(q(!1),"sending"),i=j(q(""),"error"),s=j(q(void 0),"messagesEl");async function l(){try{E(r,(await H(ae("GET","/api/memory/conversation")))(),!0),(await H(Kn()))(),d()}catch(S){console.error(...Pe("error","loadChat:",S))}}function d(){o(s)&&(o(s).scrollTop=o(s).scrollHeight)}function g(S){try{return new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}async function p(){const S=o(n).trim();if(!(!S||o(a))){E(i,""),E(a,!0),E(n,""),E(r,[...o(r),{id:Date.now(),role:"user",content:S,created_at:new Date().toISOString()}],!0),(await H(Kn()))(),d();try{const M=(await H(ae("POST","/api/chat",{message:S})))();(await H(l()))()}catch(M){E(i,(M==null?void 0:M.message)||"Failed to send message",!0),(await H(l()))()}finally{E(a,!1),(await H(Kn()))(),d()}}}function u(S){U(S.key,"Enter")&&!S.shiftKey&&(S.preventDefault(),p())}ls(()=>{l()}),At(()=>{fe.refreshCounter,o(a)||l()});var f={...lt()},y=Wl(),x=c(y),C=c(x);{var b=S=>{var M=Ul();m(S,M)},T=S=>{var M=Kl(),Q=ye(M);A(()=>qe(Q,17,()=>o(r),ce=>ce.id,(ce,oe)=>{var me=ht(),de=ye(me);{var we=Y=>{var ve=ql(),_e=c(ve),xe=c(_e),Ht=c(xe,!0);var Bt=v(xe,2),or=c(Bt,!0);B(je=>{N(Ht,o(oe).content),N(or,je)},[()=>g(o(oe).created_at)]),m(Y,ve)},Oe=Y=>{var ve=zl(),_e=c(ve),xe=c(_e),Ht=c(xe,!0);var Bt=v(xe,2),or=c(Bt,!0);B(je=>{N(Ht,o(oe).content),N(or,je)},[()=>g(o(oe).created_at)]),m(Y,ve)},V=Y=>{var ve=Gl(),_e=c(ve),xe=c(_e,!0);B(()=>N(xe,o(oe).content)),m(Y,ve)};A(()=>z(de,Y=>{U(o(oe).role,"user")?Y(we):U(o(oe).role,"assistant")?Y(Oe,1):Y(V,!1)}),"if",Re,106,16)}m(ce,me)}),"each",Re,105,12);var X=v(Q,2);{var ie=ce=>{var oe=Vl();m(ce,oe)};A(()=>z(X,ce=>{o(a)&&ce(ie)}),"if",Re,138,12)}m(S,M)};A(()=>z(C,S=>{U(o(r).length,0)&&!o(a)?S(b):S(T,!1)}),"if",Re,97,8)}ll(x,S=>E(s,S),()=>o(s));var L=v(x,2);{var $=S=>{var M=Hl(),Q=v(c(M),1,!0);B(()=>N(Q,o(i))),m(S,M)};A(()=>z(L,S=>{o(i)&&S($)}),"if",Re,151,4)}var K=v(L,2),J=c(K),O=c(J),D=v(O,2),G=c(D);{var R=S=>{var M=Bl();m(S,M)},F=S=>{var M=Yl();m(S,M)};A(()=>z(G,S=>{o(a)?S(R):S(F,!1)}),"if",Re,177,16)}return B(S=>{O.disabled=o(a),D.disabled=S},[()=>o(a)||!o(n).trim()]),ee("keydown",O,u),gr(O,function(){return o(n)},function(M){E(n,M)}),ee("click",D,p),m(e,y),nt(f)}sr(["keydown","click"]);pn[h]="src/components/CredentialRow.svelte";var Jl=w(k('<button title="Remove" class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface text-error-500 hover:bg-error-500/10 hover:border-error-500 transition-colors"><i class="fa-solid fa-trash-can"></i></button>'),pn[h],[[90,12,[[95,16]]]]),Ql=w(k('<div class="flex items-center gap-2 mb-2 text-sm"><div></div> <div class="font-mono text-xs min-w-[200px] shrink-0 text-accent-300"> </div> <input type="password" class="flex-1 px-2 py-1 border border-border rounded-md bg-background text-text text-xs font-mono outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-900 placeholder:text-text-subtle"/> <div class="flex gap-1 shrink-0"><button title="Save" class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface text-success-500 hover:bg-success-500/10 hover:border-success-500 transition-colors"><i class="fa-solid fa-floppy-disk"></i></button> <!></div></div>'),pn[h],[[66,0,[[67,4],[68,4],[74,4],[81,4,[[82,8,[[87,12]]]]]]]]);function pn(e,t){ot(new.target),rt(t,!0,pn);let r=j(q(""),"inputValue");function n(){return t.credential.configured?"bg-success-500":t.credential.required?"bg-error-500":"bg-warning-500"}function a(){return t.credential.configured?"Configured":t.credential.required?"Required":"Optional"}function i(){return t.credential.configured?"(configured - enter new value to update)":t.credential.description||"Enter value..."}async function s(){const $=o(r).trim();if($)try{(await H(ae("PUT",`/api/skills/${encodeURIComponent(t.skillName)}/credentials`,{key:t.credential.name,value:$})))(),E(r,""),t.onchange()}catch(K){console.error(...Pe("error","saveCredential:",K)),alert("Failed to save credential: "+K.message)}}async function l(){if(confirm(`Remove credential "${t.credential.name}" from "${t.skillName}"?`))try{(await H(ae("DELETE",`/api/skills/${encodeURIComponent(t.skillName)}/credentials/${encodeURIComponent(t.credential.name)}`)))(),t.onchange()}catch($){console.error(...Pe("error","deleteCredential:",$)),alert("Failed to remove credential: "+$.message)}}function d($){U($.key,"Enter")&&s()}var g={...lt()},p=Ql(),u=c(p),f=v(u,2),y=c(f),x=v(f,2),C=v(x,2),b=c(C),T=v(b,2);{var L=$=>{var K=Jl();ee("click",K,l),m($,K)};A(()=>z(T,$=>{t.credential.configured&&$(L)}),"if",pn,89,8)}return B(($,K,J)=>{Te(u,1,`w-2 h-2 rounded-full shrink-0 ${$??""}`),wt(u,"title",K),wt(f,"title",t.credential.description),N(y,t.credential.label||t.credential.name),wt(x,"placeholder",J)},[n,a,i]),ee("keyup",x,d),gr(x,function(){return o(r)},function(K){E(r,K)}),ee("click",b,s),m(e,p),nt(g)}sr(["keyup","click"]);I[h]="src/components/SkillCard.svelte";var Zl=w(k('<span class="text-[11px] px-2 py-0.5 rounded-full font-medium bg-primary-950 text-primary-400"><i class="fa-solid fa-server mr-1"></i>daemon</span>'),I[h],[[183,16,[[184,20]]]]),Xl=w(k('<span class="text-[11px] px-2 py-0.5 rounded-full font-medium bg-warning-500/15 text-warning-500"><i class="fa-solid fa-bolt mr-1"></i>oneshot</span>'),I[h],[[187,16,[[188,20]]]]),ec=w(k('<span class="text-[11px] px-2 py-0.5 rounded-full font-medium bg-text-subtle/10 text-text-subtle"><i class="fa-solid fa-ban mr-1"></i>disabled</span>'),I[h],[[193,16,[[194,20]]]]),tc=w(k('<span class="text-[11px] px-2 py-0.5 rounded-full font-medium bg-success-500/15 text-success-500"><i class="fa-solid fa-circle-check mr-1"></i>running</span>'),I[h],[[197,16,[[198,20]]]]),rc=w(k('<span class="text-[11px] px-2 py-0.5 rounded-full font-medium bg-error-500/12 text-error-400"><i class="fa-solid fa-circle-stop mr-1"></i>stopped</span>'),I[h],[[201,16,[[202,20]]]]),nc=w(k('<span class="text-[11px] px-2 py-0.5 rounded-full font-medium bg-violet-900/30 text-violet-400 border border-violet-800/40"><i class="fa-solid fa-plug mr-1"></i>ext</span>'),I[h],[[207,16,[[208,20]]]]),ac=w(k('<span class="text-[11px] text-text-subtle font-mono"> </span>'),I[h],[[213,16]]),ic=w(k('<div class="text-sm text-text-muted px-4 pb-3 -mt-1"> </div>'),I[h],[[219,8]]),sc=w(k('<div class="text-sm text-text-muted px-4 pt-3 pb-2"> </div>'),I[h],[[226,16]]),oc=w(k('<i class="fa-solid fa-power-off mr-1"></i>Disable',1),I[h],[[236,24]]),lc=w(k('<i class="fa-solid fa-play mr-1"></i>Enable',1),I[h],[[238,24]]),cc=w(k('<div class="p-4 text-sm text-text-subtle italic text-center"><i class="fa-solid fa-spinner fa-spin mr-1"></i>Loading detail...</div>'),I[h],[[256,16,[[257,20]]]]),dc=w(k('<div class="p-4 text-sm text-error-400 italic text-center"> </div>'),I[h],[[260,16]]),fc=w(k('<button><i class="fa-solid fa-plug mr-1"></i>Extension</button>'),I[h],[[283,24,[[287,28]]]]),uc=w(k('<div class="flex items-center gap-2 mb-1.5 text-xs"><span class="font-mono text-accent-300 min-w-[180px]"> </span> <span class="flex-1 font-mono text-text-muted truncate"> </span> <button title="Remove" class="px-2 py-0.5 text-xs border border-border rounded bg-surface text-error-500 hover:bg-error-500/10 hover:border-error-500 transition-colors shrink-0"><i class="fa-solid fa-trash-can"></i></button></div>'),I[h],[[314,36,[[315,40],[316,40],[317,40,[[322,44]]]]]]),vc=w(k('<div class="border-t border-border pt-3 mb-3"><div class="text-xs font-semibold uppercase tracking-wider text-primary-400 mb-2"><i class="fa-solid fa-gear mr-1"></i> Environment Variables</div> <!> <div class="flex items-center gap-2 mt-2 text-xs"><input type="text" placeholder="KEY" class="w-[180px] px-2 py-1 border border-border rounded bg-background text-text text-xs font-mono outline-none focus:border-primary-500 placeholder:text-text-subtle"/> <input type="text" placeholder="value" class="flex-1 px-2 py-1 border border-border rounded bg-background text-text text-xs font-mono outline-none focus:border-primary-500 placeholder:text-text-subtle"/> <button class="px-2.5 py-1 text-xs border border-border rounded bg-surface text-success-500 hover:bg-success-500/10 hover:border-success-500 transition-colors shrink-0"><i class="fa-solid fa-plus mr-1"></i>Add</button></div></div>'),I[h],[[309,28,[[310,32,[[311,36]]],[328,32,[[329,36],[335,36],[341,36,[[345,40]]]]]]]]),pc=w(k('<div class="border-t border-border pt-3"><div class="text-xs font-semibold uppercase tracking-wider text-accent-500 mb-2"><i class="fa-solid fa-key mr-1"></i> Credentials</div> <!></div>'),I[h],[[353,28,[[354,32,[[355,36]]]]]]),_c=w(k('<div class="grid grid-cols-2 gap-x-4 gap-y-1 mb-4 text-xs"><div class="text-text-muted">Entrypoint</div> <div class="font-mono text-accent-300"> </div> <div class="text-text-muted">Directory</div> <div class="font-mono text-accent-300 truncate"> </div> <div class="text-text-muted">Type</div> <div> </div> <div class="text-text-muted">Enabled</div> <div> </div></div> <!> <!>',1),I[h],[[296,24,[[297,28],[298,28],[299,28],[300,28],[301,28],[302,28],[303,28],[304,28]]]]),hc=w(k('<div class="p-4 text-sm text-text-subtle italic text-center"><i class="fa-solid fa-spinner fa-spin mr-1"></i>Loading...</div>'),I[h],[[377,32,[[378,36]]]]),bc=w(k('<pre class="bg-background border border-border rounded-md p-3 text-[11px] font-mono text-text-muted max-h-[400px] overflow-auto whitespace-pre-wrap break-all leading-relaxed"> </pre>'),I[h],[[381,32]]),mc=w(k('<div class="relative"><div class="flex justify-between items-center mb-2"><span class="text-xs text-text-muted">Last 300 lines of <span class="font-mono">skill.log</span></span> <button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-arrows-rotate mr-1"></i>Refresh</button></div> <!></div>'),I[h],[[364,24,[[365,28,[[366,32,[[367,54]]],[369,32,[[373,36]]]]]]]]),xc=w(k('<div><div class="text-xs font-semibold uppercase tracking-wider text-violet-400 mb-2"><i class="fa-solid fa-window-maximize mr-1"></i> Skill Panel</div> <div class="bg-background border border-border rounded-md overflow-hidden"><iframe class="w-full border-0" style="min-height: 300px;" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe></div></div>'),I[h],[[389,32,[[390,36,[[391,40]]],[393,36,[[394,40]]]]]]),gc=w(k('<div class="flex items-center gap-2"><a target="_blank" class="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md border border-violet-800/50 bg-violet-900/20 text-violet-400 hover:bg-violet-900/40 transition-colors"><i class="fa-solid fa-arrow-up-right-from-square"></i> Open full page</a></div>'),I[h],[[407,32,[[408,36,[[413,40]]]]]]),yc=w(k('<div class="flex items-center gap-2 text-xs font-mono"><span class="px-1.5 py-0.5 rounded bg-violet-900/30 text-violet-300 border border-violet-800/40 min-w-[48px] text-center"> </span> <span class="text-text-muted"> </span></div>'),I[h],[[426,44,[[427,48],[430,48]]]]),wc=w(k('<div><div class="text-xs font-semibold uppercase tracking-wider text-violet-400 mb-2"><i class="fa-solid fa-route mr-1"></i> </div> <div class="space-y-1"></div></div>'),I[h],[[420,32,[[421,36,[[422,40]]],[424,36]]]]),kc=w(k('<p class="text-sm text-text-subtle italic text-center py-4">This skill has an extension but no UI panel or routes registered.</p>'),I[h],[[438,32]]),Ec=w(k('<div class="space-y-4"><!> <!> <!> <!></div>'),I[h],[[386,24]]),Tc=w(k('<i class="fa-solid fa-spinner fa-spin mr-1"></i>Saving...',1),I[h],[[456,40]]),Sc=w(k('<i class="fa-solid fa-floppy-disk mr-1"></i>Save',1),I[h],[[458,40]]),Cc=w(k('<div class="text-xs text-error-400 mb-2 p-2 bg-error-500/10 border border-error-500/30 rounded"><i class="fa-solid fa-triangle-exclamation mr-1"></i> </div>'),I[h],[[463,32,[[464,36]]]]),Ac=w(k('<div class="text-xs text-success-500 mb-2 p-2 bg-success-500/10 border border-success-500/30 rounded"><i class="fa-solid fa-check mr-1"></i> </div>'),I[h],[[468,32,[[469,36]]]]),$c=w(k('<div><div class="flex justify-between items-center mb-2"><span class="text-xs text-text-muted">Edit <span class="font-mono">skill.toml</span> directly</span> <button class="px-3 py-1.5 text-xs border border-border rounded-md bg-surface text-success-500 hover:bg-success-500/10 hover:border-success-500 transition-colors disabled:opacity-50"><!></button></div> <!> <!> <textarea spellcheck="false" class="w-full h-[320px] bg-background border border-border rounded-md p-3 text-[12px] font-mono text-text outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-900 resize-y leading-relaxed"></textarea></div>'),I[h],[[445,24,[[446,28,[[447,32,[[448,41]]],[450,32]]],[472,28]]]]),Rc=w(k('<div class="flex border-b border-border"><button><i class="fa-solid fa-sliders mr-1"></i>Parameters</button> <button><i class="fa-solid fa-terminal mr-1"></i>Logs</button> <button><i class="fa-solid fa-file-code mr-1"></i>Manifest</button> <!></div> <div class="p-4"><!></div>',1),I[h],[[263,16,[[264,20,[[268,24]]],[270,20,[[274,24]]],[276,20,[[280,24]]]]],[293,16]]),Nc=w(k('<div class="border-t border-border"><!> <div class="flex items-center gap-2 px-4 py-2 border-b border-border"><button><!></button> <button class="px-3 py-1.5 text-xs border border-border rounded-md bg-surface hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-rotate-right mr-1"></i>Restart</button> <button class="px-3 py-1.5 text-xs border border-border rounded-md bg-surface hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-arrows-rotate mr-1"></i>Refresh</button></div> <!></div>'),I[h],[[224,8,[[230,12,[[231,16],[241,16,[[245,20]]],[247,16,[[251,20]]]]]]]]),Oc=w(k('<div class="border border-border rounded-md mb-3 bg-surface-muted overflow-hidden"><button class="w-full p-4 flex justify-between items-center hover:bg-surface-elevated/40 transition-colors cursor-pointer text-left"><div class="flex items-center gap-2"><i></i> <span class="text-[15px] font-semibold"> </span></div> <div class="flex items-center gap-2"><!> <!> <!> <!></div></button> <!> <!></div>'),I[h],[[171,0,[[173,4,[[177,8,[[178,12],[179,12]]],[181,8]]]]]]);function I(e,t){ot(new.target),rt(t,!0,I);let r=cl(t,"extension",3,null),n=j(q(!1),"expanded"),a=j(q(null),"detail"),i=j(q(!1),"detailLoading"),s=j(q(""),"detailError"),l=j(q("params"),"activeTab"),d=j(q(""),"logContent"),g=j(q(!1),"logLoading"),p=j(q(""),"manifestEdit"),u=j(q(!1),"manifestSaving"),f=j(q(""),"manifestError"),y=j(q(""),"manifestSuccess"),x=j(q(""),"newEnvKey"),C=j(q(""),"newEnvValue");async function b(){E(n,!o(n)),o(n)&&!o(a)&&(await H(T()))()}async function T(){E(i,!0),E(s,"");try{E(a,(await H(ae("GET",`/api/skills/${encodeURIComponent(t.skill.name)}/detail`)))(),!0),E(p,o(a).manifest_raw,!0)}catch(P){E(s,P.message,!0)}finally{E(i,!1)}}async function L(){E(g,!0);try{const P=(await H(ae("GET",`/api/skills/${encodeURIComponent(t.skill.name)}/log?lines=300`)))();E(d,P.log,!0)}catch(P){E(d,`Error loading log: ${P.message}`)}finally{E(g,!1)}}async function $(){try{(await H(ae("POST",`/api/skills/${encodeURIComponent(t.skill.name)}/restart`)))(),setTimeout(t.onrefresh,1e3)}catch(P){console.error(...Pe("error","restartSkill:",P)),alert("Failed to restart skill: "+P.message)}}async function K(){const P=!t.skill.enabled;try{(await H(ae("PUT",`/api/skills/${encodeURIComponent(t.skill.name)}/enabled`,{enabled:P})))(),setTimeout(t.onrefresh,500)}catch(W){console.error(...Pe("error","toggleEnabled:",W)),alert("Failed to toggle skill: "+W.message)}}async function J(){E(u,!0),E(f,""),E(y,"");try{(await H(ae("PUT",`/api/skills/${encodeURIComponent(t.skill.name)}/manifest`,{toml:o(p)})))(),E(y,"Saved. Restart the skill for changes to take effect."),setTimeout(()=>{E(y,"")},5e3),(await H(T()))()}catch(P){E(f,P.message,!0)}finally{E(u,!1)}}async function O(){const P=o(x).trim(),W=o(C).trim();if(P)try{(await H(ae("PUT",`/api/skills/${encodeURIComponent(t.skill.name)}/env`,{key:P,value:W})))(),E(x,""),E(C,""),(await H(T()))()}catch(We){alert("Failed to set env var: "+We.message)}}async function D(P){if(confirm(`Remove env var "${P}" from "${t.skill.name}"?`))try{(await H(ae("DELETE",`/api/skills/${encodeURIComponent(t.skill.name)}/env/${encodeURIComponent(P)}`)))(),(await H(T()))()}catch(W){alert("Failed to delete env var: "+W.message)}}function G(P){E(l,P,!0),U(P,"logs")&&L()}let R=j(Xr(()=>U(r(),null,!1)&&(ii(r().ui.panel,null,!1)||ii(r().ui.page,null,!1)||r().route_count>0)),"hasExtension");var F={...lt()},S=Oc(),M=c(S),Q=c(M),X=c(Q),ie=v(X,2),ce=c(ie),oe=v(Q,2),me=c(oe);{var de=P=>{var W=Zl();m(P,W)},we=P=>{var W=Xl();m(P,W)};A(()=>z(me,P=>{U(t.skill.skill_type,"daemon")?P(de):P(we,!1)}),"if",I,182,12)}var Oe=v(me,2);{var V=P=>{var W=ec();m(P,W)},Y=P=>{var W=tc();m(P,W)},ve=P=>{var W=rc();m(P,W)};A(()=>z(Oe,P=>{t.skill.enabled?t.skill.running?P(Y,1):P(ve,!1):P(V)}),"if",I,192,12)}var _e=v(Oe,2);{var xe=P=>{var W=nc();m(P,W)};A(()=>z(_e,P=>{o(R)&&P(xe)}),"if",I,206,12)}var Ht=v(_e,2);{var Bt=P=>{var W=ac(),We=c(W);B(()=>N(We,`PID ${t.skill.pid??""}`)),m(P,W)};A(()=>z(Ht,P=>{t.skill.pid&&P(Bt)}),"if",I,212,12)}var or=v(M,2);{var je=P=>{var W=ic(),We=c(W);B(()=>N(We,t.skill.description)),m(P,W)};A(()=>z(or,P=>{t.skill.description&&!o(n)&&P(je)}),"if",I,218,4)}var ge=v(or,2);{var kr=P=>{var W=Nc(),We=c(W);{var Er=le=>{var pe=sc(),ct=c(pe);B(()=>N(ct,t.skill.description)),m(le,pe)};A(()=>z(We,le=>{t.skill.description&&le(Er)}),"if",I,225,12)}var Jr=v(We,2),Yt=c(Jr),$t=c(Yt);{var Je=le=>{var pe=oc();m(le,pe)},Rt=le=>{var pe=lc();m(le,pe)};A(()=>z($t,le=>{t.skill.enabled?le(Je):le(Rt,!1)}),"if",I,235,20)}var lr=v(Yt,2),Tr=v(lr,2),bn=v(Jr,2);{var aa=le=>{var pe=cc();m(le,pe)},ia=le=>{var pe=dc(),ct=c(pe);B(()=>N(ct,o(s))),m(le,pe)},sa=le=>{var pe=Rc(),ct=ye(pe),Ke=c(ct),cr=v(Ke,2),Wt=v(cr,2),mn=v(Wt,2);{var oa=he=>{var De=fc();B(()=>Te(De,1,`px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-colors ${U(o(l),"plugin")?"text-violet-400 border-b-2 border-violet-400":"text-text-muted hover:text-text"}`)),ee("click",De,function(){return G("plugin")}),m(he,De)};A(()=>z(mn,he=>{o(R)&&he(oa)}),"if",I,282,20)}var In=v(ct,2),Ln=c(In);{var la=he=>{var De=_c(),He=ye(De),dt=v(c(He),2),Me=c(dt),Be=v(dt,4),Nt=c(Be),Qe=v(Be,4),Ot=c(Qe),dr=v(Qe,4),Ce=c(dr),Ye=v(He,2);{var be=Mt=>{var ft=vc(),fr=v(c(ft),2);A(()=>qe(fr,17,()=>Object.entries(o(a).env),([Qt,Qr])=>Qt,(Qt,Qr)=>{var Qa=Xr(()=>xs(o(Qr),2));let va=()=>o(Qa)[0];va();let pa=()=>o(Qa)[1];pa();var _a=uc(),ha=c(_a),cs=c(ha,!0);var Fn=v(ha,2),ds=c(Fn,!0);var fs=v(Fn,2);B(()=>{N(cs,va()),wt(Fn,"title",pa()),N(ds,pa())}),ee("click",fs,function(){return D(va())}),m(Qt,_a)}),"each",I,313,32);var Sr=v(fr,2),Cr=c(Sr),Dn=v(Cr,2),ua=v(Dn,2);gr(Cr,function(){return o(x)},function(Qr){E(x,Qr)}),gr(Dn,function(){return o(C)},function(Qr){E(C,Qr)}),ee("click",ua,O),m(Mt,ft)},Ee=Xr(()=>Object.keys(o(a).env).length>0||!0);A(()=>z(Ye,Mt=>{o(Ee)&&Mt(be)}),"if",I,308,24)}var Jt=v(Ye,2);{var fa=Mt=>{var ft=pc(),fr=v(c(ft),2);A(()=>qe(fr,17,()=>t.skill.credentials,Sr=>Sr.name,(Sr,Cr)=>{A(()=>pn(Sr,{get credential(){return o(Cr)},get skillName(){return t.skill.name},get onchange(){return t.onrefresh}}),"component",I,358,36,{componentTag:"CredentialRow"})}),"each",I,357,32),m(Mt,ft)};A(()=>z(Jt,Mt=>{var ft;(ft=t.skill.credentials)!=null&&ft.length&&Mt(fa)}),"if",I,352,24)}B(()=>{N(Me,o(a).entrypoint),wt(Be,"title",o(a).dir),N(Nt,o(a).dir),N(Ot,o(a).skill_type),N(Ce,o(a).enabled?"Yes":"No")}),m(he,De)},ca=he=>{var De=mc(),He=c(De),dt=v(c(He),2),Me=v(He,2);{var Be=Qe=>{var Ot=hc();m(Qe,Ot)},Nt=Qe=>{var Ot=bc(),dr=c(Ot);B(()=>N(dr,o(d)||"(no log output)")),m(Qe,Ot)};A(()=>z(Me,Qe=>{o(g)?Qe(Be):Qe(Nt,!1)}),"if",I,376,28)}ee("click",dt,L),m(he,De)},da=he=>{var De=Ec(),He=c(De);{var dt=Ce=>{var Ye=xc(),be=v(c(Ye),2),Ee=c(be);B(Jt=>{wt(Ee,"src",`/skills/${Jt??""}/ui/${r().ui.panel??""}`),wt(Ee,"title",`${t.skill.name??""} extension panel`)},[()=>encodeURIComponent(t.skill.name)]),m(Ce,Ye)};A(()=>z(He,Ce=>{r().ui.panel&&Ce(dt)}),"if",I,388,28)}var Me=v(He,2);{var Be=Ce=>{var Ye=gc(),be=c(Ye);B(Ee=>wt(be,"href",`/skills/${Ee??""}/page`),[()=>encodeURIComponent(t.skill.name)]),m(Ce,Ye)};A(()=>z(Me,Ce=>{r().ui.page&&Ce(Be)}),"if",I,406,28)}var Nt=v(Me,2);{var Qe=Ce=>{var Ye=wc(),be=c(Ye),Ee=v(c(be)),Jt=v(be,2);A(()=>qe(Jt,21,()=>r().routes,zr,(fa,Mt)=>{var ft=yc(),fr=c(ft),Sr=c(fr,!0);var Cr=v(fr,2),Dn=c(Cr);B((ua,Qt)=>{N(Sr,ua),N(Dn,`/api/skills/${t.skill.name??""}/ext${Qt??""}`)},[()=>o(Mt).split(" ")[0],()=>o(Mt).split(" ").slice(1).join(" ")]),m(fa,ft)}),"each",I,425,40),B(()=>N(Ee,` Registered Routes (${r().route_count??""})`)),m(Ce,Ye)};A(()=>z(Nt,Ce=>{r().route_count>0&&Ce(Qe)}),"if",I,419,28)}var Ot=v(Nt,2);{var dr=Ce=>{var Ye=kc();m(Ce,Ye)};A(()=>z(Ot,Ce=>{!r().ui.panel&&U(r().route_count,0)&&Ce(dr)}),"if",I,437,28)}m(he,De)},jn=he=>{var De=$c(),He=c(De),dt=v(c(He),2),Me=c(dt);{var Be=be=>{var Ee=Tc();m(be,Ee)},Nt=be=>{var Ee=Sc();m(be,Ee)};A(()=>z(Me,be=>{o(u)?be(Be):be(Nt,!1)}),"if",I,455,36)}var Qe=v(He,2);{var Ot=be=>{var Ee=Cc(),Jt=v(c(Ee),1,!0);B(()=>N(Jt,o(f))),m(be,Ee)};A(()=>z(Qe,be=>{o(f)&&be(Ot)}),"if",I,462,28)}var dr=v(Qe,2);{var Ce=be=>{var Ee=Ac(),Jt=v(c(Ee),1,!0);B(()=>N(Jt,o(y))),m(be,Ee)};A(()=>z(dr,be=>{o(y)&&be(Ce)}),"if",I,467,28)}var Ye=v(dr,2);B(()=>dt.disabled=o(u)),ee("click",dt,J),gr(Ye,function(){return o(p)},function(Ee){E(p,Ee)}),m(he,De)};A(()=>z(Ln,he=>{U(o(l),"params")?he(la):U(o(l),"logs")?he(ca,1):U(o(l),"plugin")&&r()?he(da,2):U(o(l),"manifest")&&he(jn,3)}),"if",I,294,20)}B(()=>{Te(Ke,1,`px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-colors ${U(o(l),"params")?"text-primary-400 border-b-2 border-primary-400":"text-text-muted hover:text-text"}`),Te(cr,1,`px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-colors ${U(o(l),"logs")?"text-primary-400 border-b-2 border-primary-400":"text-text-muted hover:text-text"}`),Te(Wt,1,`px-4 py-2 text-xs font-semibold uppercase tracking-wider transition-colors ${U(o(l),"manifest")?"text-primary-400 border-b-2 border-primary-400":"text-text-muted hover:text-text"}`)}),ee("click",Ke,function(){return G("params")}),ee("click",cr,function(){return G("logs")}),ee("click",Wt,function(){return G("manifest")}),m(le,pe)};A(()=>z(bn,le=>{o(i)?le(aa):o(s)?le(ia,1):o(a)&&le(sa,2)}),"if",I,255,12)}B(()=>Te(Yt,1,`px-3 py-1.5 text-xs border border-border rounded-md bg-surface transition-colors ${t.skill.enabled?"hover:bg-error-500/10 hover:border-error-500 text-error-400":"hover:bg-success-500/10 hover:border-success-500 text-success-500"}`)),ee("click",Yt,K),ee("click",lr,$),ee("click",Tr,T),m(P,W)};A(()=>z(ge,P=>{o(n)&&P(kr)}),"if",I,223,4)}return B(()=>{Te(X,1,`fa-solid fa-chevron-right text-[10px] text-text-subtle transition-transform ${o(n)?"rotate-90":""}`),N(ce,t.skill.name)}),ee("click",M,b),m(e,S),nt(F)}sr(["click"]);se[h]="src/components/SkillsTab.svelte";var Mc=w(k('<span class="text-xs text-text-muted pr-3"> </span>'),se[h],[[135,12]]),Pc=w(k('<p class="text-text-subtle text-sm italic text-center py-2">Loading...</p>'),se[h],[[142,12]]),Ic=w(k('<button class="px-2 py-0.5 text-xs border border-border rounded bg-surface hover:bg-surface-elevated transition-colors disabled:opacity-50" title="Refresh all"><i></i></button>'),se[h],[[163,32,[[169,36]]]]),Lc=w(k("<span> </span>"),se[h],[[192,48]]),jc=w(k('<span class="text-amber-400"><i class="fa-solid fa-triangle-exclamation"></i> No refresh token</span>'),se[h],[[195,48,[[196,52]]]]),Dc=w(k('<div class="flex items-center justify-between p-2 rounded-md bg-surface border border-border/50"><div class="min-w-0 flex-1 space-y-0.5"><div class="text-sm text-text truncate"> </div> <div class="flex items-center gap-2 text-xs text-text-subtle"><!> <!></div></div> <div class="flex gap-1.5 ml-2 flex-shrink-0"><button class="px-2 py-1 text-xs border border-border rounded bg-surface hover:bg-surface-elevated transition-colors disabled:opacity-50" title="Refresh"><i></i></button> <button class="px-2 py-1 text-xs border border-red-800/50 rounded bg-red-900/20 text-red-400 hover:bg-red-900/40 transition-colors" title="Disconnect"><i class="fa-solid fa-xmark"></i></button></div></div>'),se[h],[[187,32,[[188,36,[[189,40],[190,40]]],[201,36,[[202,40,[[208,44]]],[210,40,[[215,44]]]]]]]]),Fc=w(k('<div class="mt-1.5 space-y-1.5 pl-7"></div>'),se[h],[[185,24]]),Uc=w(k('<div class="mb-3 last:mb-0"><div role="button" tabindex="0" class="w-full flex items-center justify-between p-2.5 rounded-lg bg-surface-elevated border border-border hover:border-text-subtle/30 transition-colors cursor-pointer"><div class="flex items-center gap-2"><i></i> <span class="text-sm font-medium text-text"> </span> <span class="text-xs px-1.5 py-0.5 rounded-full bg-green-900/40 text-green-400 border border-green-800/50"> </span></div> <div class="flex items-center gap-2"><!> <a class="px-2 py-0.5 text-xs border border-border rounded bg-surface hover:bg-surface-elevated transition-colors text-text-muted" title="Add account"><i class="fa-solid fa-plus"></i></a> <i></i></div></div> <!></div>'),se[h],[[146,16,[[147,20,[[154,24,[[155,28],[156,28],[157,28]]],[161,24,[[172,28,[[178,32]]],[180,28]]]]]]]]),qc=w(k('<a class="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md border border-border bg-surface hover:bg-surface-elevated hover:border-text-subtle/30 transition-colors text-text"><i></i> </a>'),se[h],[[232,32,[[236,36]]]]),zc=w(k('<span class="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-md border border-border/50 bg-surface text-text-subtle opacity-50 cursor-not-allowed"><i></i> </span>'),se[h],[[239,32,[[243,36]]]]),Gc=w(k('<div class="mt-3 pt-3 border-t border-border/50"><p class="text-xs text-text-subtle mb-2 uppercase tracking-wider">Available Integrations</p> <div class="flex flex-wrap gap-2"></div></div>'),se[h],[[227,16,[[228,20],[229,20]]]]),Vc=w(k('<p class="text-text-subtle text-sm italic text-center py-2">No OAuth providers available.</p>'),se[h],[[252,16]]),Kc=w(k("<!> <!> <!>",1),se[h],[]),Hc=w(k('<p class="text-text-subtle text-sm italic text-center py-4">Error loading skills</p>'),se[h],[[278,12]]),Bc=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No skills installed. Skills will appear here when the agent creates them.</p>'),se[h],[[280,12]]),Yc=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden mb-4"><div class="flex justify-between items-center border-b border-border"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted"><i class="fa-solid fa-link mr-1.5"></i> Connected Accounts</h2> <!></div> <div class="p-3"><!></div></section> <section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><div class="flex justify-between items-center border-b border-border"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted"><i class="fa-solid fa-puzzle-piece mr-1.5"></i> Skills &amp; Credentials</h2> <div class="flex items-center gap-2 pr-3"><span class="text-xs text-text-muted"> </span> <button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface hover:bg-surface-elevated transition-colors"><i class="fa-solid fa-arrows-rotate mr-1"></i> Refresh</button></div></div> <div class="p-3"><!></div></section>',1),se[h],[[129,0,[[130,4,[[131,8,[[132,12]]]]],[140,4]]],[259,0,[[260,4,[[261,8,[[262,12]]],[264,8,[[265,12],[268,12,[[272,16]]]]]]],[276,4]]]]);function se(e,t){ot(new.target),rt(t,!0,se);let r=j(q(Ne([])),"skills"),n=j(q(!1),"error"),a=j(q(null),"oauth"),i=j(q(Ne([])),"extensions"),s=j(q(null),"refreshing"),l=j(q(Ne(new Set)),"expandedProviders");async function d(){E(n,!1);try{E(r,(await H(ae("GET","/api/skills")))(),!0)}catch(V){E(n,!0),console.error(...Pe("error","loadSkills:",V))}}async function g(){try{E(i,(await H(ae("GET","/api/skills/extensions")))(),!0)}catch(V){console.error(...Pe("error","loadExtensions:",V))}}function p(V){return o(i).find(Y=>U(Y.skill_name,V))??null}async function u(){try{E(a,(await H(ae("GET","/api/oauth/status")))(),!0)}catch(V){console.error(...Pe("error","loadOAuth:",V))}}async function f(V,Y){E(s,Y??`${V}:all`,!0);try{const ve=Y?`/api/oauth/${V}/refresh?account=${encodeURIComponent(Y)}`:`/api/oauth/${V}/refresh`;(await H(ae("POST",ve)))(),(await H(u()))()}catch(ve){console.error(...Pe("error","refreshToken:",ve))}finally{E(s,null)}}async function y(V,Y,ve){if(confirm(`Disconnect ${ve} from ${V}?`))try{(await H(ae("POST",`/api/oauth/${V}/disconnect/${encodeURIComponent(Y)}`)))(),(await H(u()))()}catch(_e){console.error(...Pe("error","disconnect:",_e))}}function x(V){const Y=new Set(o(l));Y.has(V)?Y.delete(V):Y.add(V),E(l,Y,!0)}function C(V){return V.filter(Y=>Y.accounts.length>0)}function b(V){return V.filter(Y=>U(Y.accounts.length,0))}At(()=>{U(fe.currentTab,"skills")&&(fe.refreshCounter,d(),u(),g())});var T={...lt()},L=Yc(),$=ye(L),K=c($),J=v(c(K),2);{var O=V=>{var Y=Mc(),ve=c(Y);B((_e,xe)=>N(ve,`${_e??""} account${xe??""}`),[()=>C(o(a).providers).reduce((_e,xe)=>_e+xe.accounts.length,0),()=>U(C(o(a).providers).reduce((_e,xe)=>_e+xe.accounts.length,0),1,!1)?"s":""]),m(V,Y)};A(()=>z(J,V=>{o(a)&&V(O)}),"if",se,134,8)}var D=v(K,2),G=c(D);{var R=V=>{var Y=Pc();m(V,Y)},F=V=>{var Y=Kc(),ve=ye(Y);A(()=>qe(ve,17,()=>C(o(a).providers),je=>je.id,(je,ge)=>{var kr=Uc(),P=c(kr),W=c(P),We=c(W),Er=v(We,2),Jr=c(Er,!0);var Yt=v(Er,2),$t=c(Yt,!0);var Je=v(W,2),Rt=c(Je);{var lr=le=>{var pe=Ic(),ct=c(pe);let Ke;B(()=>{pe.disabled=U(o(s),null,!1),Ke=Te(ct,1,"fa-solid fa-arrows-rotate",null,Ke,{"fa-spin":U(o(s),`${o(ge).id}:all`)})}),ee("click",pe,function(Wt){Wt.stopPropagation(),f(o(ge).id)}),m(le,pe)};A(()=>z(Rt,le=>{o(ge).accounts.length>1&&le(lr)}),"if",se,162,28)}var Tr=v(Rt,2),bn=v(Tr,2);var aa=v(P,2);{var ia=le=>{var pe=Fc();A(()=>qe(pe,21,()=>o(ge).accounts,ct=>ct.account,(ct,Ke)=>{var cr=Dc(),Wt=c(cr),mn=c(Wt),oa=c(mn,!0);var In=v(mn,2),Ln=c(In);{var la=Me=>{var Be=Lc(),Nt=c(Be);B(()=>N(Nt,`Updated: ${o(Ke).updated_at??""}`)),m(Me,Be)};A(()=>z(Ln,Me=>{o(Ke).updated_at&&Me(la)}),"if",se,191,44)}var ca=v(Ln,2);{var da=Me=>{var Be=jc();m(Me,Be)};A(()=>z(ca,Me=>{o(Ke).has_refresh_token||Me(da)}),"if",se,194,44)}var jn=v(Wt,2),he=c(jn),De=c(he);let He;var dt=v(he,2);B(()=>{N(oa,o(Ke).email),he.disabled=U(o(s),null,!1),He=Te(De,1,"fa-solid fa-arrows-rotate",null,He,{"fa-spin":U(o(s),o(Ke).account)})}),ee("click",he,function(){return f(o(ge).id,o(Ke).account)}),ee("click",dt,function(){return y(o(ge).id,o(Ke).account,o(Ke).email)}),m(ct,cr)}),"each",se,186,28),m(le,pe)},sa=Xr(()=>o(l).has(o(ge).id)||o(ge).accounts.length<=2);A(()=>z(aa,le=>{o(sa)&&le(ia)}),"if",se,184,20)}B(le=>{Te(We,1,`${o(ge).icon??""} text-sm w-5 text-center`),N(Jr,o(ge).name),N($t,o(ge).accounts.length),wt(Tr,"href",o(ge).authorize_url),Te(bn,1,`fa-solid fa-chevron-${le??""} text-xs text-text-subtle`)},[()=>o(l).has(o(ge).id)?"up":"down"]),ee("click",P,function(){return x(o(ge).id)}),ee("keydown",P,function(pe){U(pe.key,"Enter")&&x(o(ge).id)}),ee("click",Tr,function(pe){return pe.stopPropagation()}),m(je,kr)}),"each",se,145,12);var _e=v(ve,2);{var xe=je=>{var ge=Gc(),kr=v(c(ge),2);A(()=>qe(kr,21,()=>b(o(a).providers),P=>P.id,(P,W)=>{var We=ht(),Er=ye(We);{var Jr=$t=>{var Je=qc(),Rt=c(Je),lr=v(Rt);B(()=>{wt(Je,"href",o(W).authorize_url),Te(Rt,1,o(W).icon),N(lr,` ${o(W).name??""}`)}),m($t,Je)},Yt=$t=>{var Je=zc(),Rt=c(Je),lr=v(Rt);B((Tr,bn)=>{wt(Je,"title",`Not configured — set ${Tr??""}_CLIENT_ID and ${bn??""}_CLIENT_SECRET`),Te(Rt,1,o(W).icon),N(lr,` ${o(W).name??""}`)},[()=>o(W).id.toUpperCase(),()=>o(W).id.toUpperCase()]),m($t,Je)};A(()=>z(Er,$t=>{o(W).configured?$t(Jr):$t(Yt,!1)}),"if",se,231,28)}m(P,We)}),"each",se,230,24),m(je,ge)},Ht=Xr(()=>b(o(a).providers).length>0);A(()=>z(_e,je=>{o(Ht)&&je(xe)}),"if",se,226,12)}var Bt=v(_e,2);{var or=je=>{var ge=Vc();m(je,ge)};A(()=>z(Bt,je=>{U(o(a).providers.length,0)&&je(or)}),"if",se,251,12)}m(V,Y)};A(()=>z(G,V=>{U(o(a),null)?V(R):V(F,!1)}),"if",se,141,8)}var S=v($,2),M=c(S),Q=v(c(M),2),X=c(Q),ie=c(X),ce=v(X,2),oe=v(M,2),me=c(oe);{var de=V=>{var Y=Hc();m(V,Y)},we=V=>{var Y=Bc();m(V,Y)},Oe=V=>{var Y=ht(),ve=ye(Y);A(()=>qe(ve,17,()=>o(r),_e=>_e.name,(_e,xe)=>{{let Ht=Xr(()=>p(o(xe).name));A(()=>I(_e,{get skill(){return o(xe)},onrefresh:d,get extension(){return o(Ht)}}),"component",se,285,16,{componentTag:"SkillCard"})}}),"each",se,284,12),m(V,Y)};A(()=>z(me,V=>{o(n)?V(de):U(o(r).length,0)?V(we,1):V(Oe,!1)}),"if",se,277,8)}return B(()=>N(ie,`${o(r).length??""} skill${U(o(r).length,1,!1)?"s":""}`)),ee("click",ce,d),m(e,L),nt(T)}sr(["click","keydown"]);Tt[h]="src/components/KnowledgeTab.svelte";var Wc=w(k('<div class="p-3 border border-border rounded-md mb-2 bg-surface-muted"><div class="text-xs uppercase tracking-wider text-accent-500 font-semibold mb-1"><i class="fa-solid fa-arrow-right-arrow-left mr-1"></i> </div> <div class="text-sm"> <span class="text-text-muted text-[11px]"> </span></div></div>'),Tt[h],[[104,16,[[105,20,[[106,24]]],[108,20,[[110,24]]]]]]),Jc=w(k('<button class="px-2.5 py-1 text-xs border border-border rounded-md bg-surface hover:bg-surface-elevated transition-colors mb-3"><i class="fa-solid fa-arrow-left mr-1"></i> Back</button> <!>',1),Tt[h],[[97,12,[[101,16]]]]),Qc=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No knowledge nodes</p>'),Tt[h],[[115,12]]),Zc=w(k('<button class="w-full text-left p-3 border border-border rounded-md mb-2 bg-surface-muted cursor-pointer hover:border-primary-500/50 transition-colors"><div class="text-xs uppercase tracking-wider text-primary-500 font-semibold mb-1"><i class="fa-solid fa-tag mr-1"></i> </div> <div class="text-sm font-semibold mb-1"> </div> <div class="text-xs text-text-muted"> </div> <div class="text-[11px] text-text-subtle mt-1"> </div></button>'),Tt[h],[[118,16,[[122,20,[[123,24]]],[125,20],[126,20],[127,20]]]]),Xc=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><div class="flex justify-between items-center border-b border-border"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted"><i class="fa-solid fa-diagram-project mr-1.5"></i> Knowledge Graph</h2> <div class="flex items-center gap-2 pr-3"><span class="text-xs text-text-muted"><i class="fa-solid fa-circle-nodes mr-1"></i> </span></div></div> <div class="px-4 py-2 border-b border-border"><input type="text" placeholder="Search knowledge graph..." class="w-full px-2.5 py-1.5 border border-border rounded-md bg-background text-text text-sm outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-900 font-sans"/></div> <div class="p-3 max-h-[600px] overflow-y-auto custom-scroll"><!></div></section>'),Tt[h],[[75,0,[[76,4,[[77,8,[[78,12]]],[80,8,[[81,12,[[82,16]]]]]]],[86,4,[[87,8]]],[95,4]]]]);function Tt(e,t){ot(new.target),rt(t,!0,Tt);let r=j(q(Ne({nodes:0,edges:0})),"stats"),n=j(q(Ne([])),"nodes"),a=j(q(Ne([])),"neighbors"),i=j(q(!1),"viewingNeighbors"),s=j(q(""),"searchQuery");async function l(){try{const[R,F]=(await H(Promise.all([ae("GET","/api/knowledge/stats"),ae("GET","/api/knowledge/nodes?limit=100")])))();E(r,R,!0),E(n,F,!0),E(i,!1)}catch(R){console.error(...Pe("error","loadKnowledge:",R))}}async function d(){if(!o(s)){l();return}try{E(n,(await H(ae("GET",`/api/knowledge/search?q=${encodeURIComponent(o(s))}`)))(),!0),E(i,!1)}catch(R){console.error(...Pe("error","searchKnowledge:",R))}}async function g(R){try{const F=(await H(ae("GET",`/api/knowledge/nodes/${R}/neighbors`)))();if(!F.length){alert("No neighbors for this node.");return}E(a,F,!0),E(i,!0)}catch(F){console.error(...Pe("error","loadNodeNeighbors:",F))}}function p(){E(i,!1)}function u(R){U(R.key,"Enter")&&d()}At(()=>{U(fe.currentTab,"knowledge")&&(fe.refreshCounter,l())});var f={...lt()},y=Xc(),x=c(y),C=v(c(x),2),b=c(C),T=v(c(b)),L=v(x,2),$=c(L),K=v(L,2),J=c(K);{var O=R=>{var F=Jc(),S=ye(F),M=v(S,2);A(()=>qe(M,17,()=>o(a),zr,(Q,X)=>{var ie=Wc(),ce=c(ie),oe=v(c(ce),1,!0);var me=v(ce,2),de=c(me),we=v(de),Oe=c(we);B(()=>{N(oe,o(X).edge.relation),N(de,`${o(X).node.label??""} `),N(Oe,`(${o(X).node.node_type??""})`)}),m(Q,ie)}),"each",Tt,103,12),ee("click",S,p),m(R,F)},D=R=>{var F=Qc();m(R,F)},G=R=>{var F=ht(),S=ye(F);A(()=>qe(S,17,()=>o(n),M=>M.id,(M,Q)=>{var X=Zc(),ie=c(X),ce=v(c(ie),1,!0);var oe=v(ie,2),me=c(oe,!0);var de=v(oe,2),we=c(de,!0);var Oe=v(de,2),V=c(Oe);B((Y,ve)=>{N(ce,o(Q).node_type??"node"),N(me,o(Q).label),N(we,Y),N(V,`confidence: ${ve??""} · ${o(Q).updated_at??""}`)},[()=>o(Q).content.slice(0,200),()=>(o(Q).confidence??1).toFixed(2)]),ee("click",X,function(){return g(o(Q).id)}),m(M,X)}),"each",Tt,117,12),m(R,F)};A(()=>z(J,R=>{o(i)?R(O):U(o(n).length,0)?R(D,1):R(G,!1)}),"if",Tt,96,8)}return B(()=>N(T,`${o(r).nodes??""} nodes, ${o(r).edges??""} edges`)),ee("keyup",$,u),gr($,function(){return o(s)},function(F){E(s,F)}),m(e,y),nt(f)}sr(["keyup","click"]);wr[h]="src/components/ToolsTab.svelte";var ed=w(k('<p class="text-text-subtle text-sm italic text-center py-4">No tools registered</p>'),wr[h],[[30,12]]),td=w(k('<div class="p-3 border border-border rounded-md mb-2 bg-surface-muted"><div class="text-xs uppercase tracking-wider text-primary-500 font-semibold mb-1"><i class="fa-solid fa-wrench mr-1"></i> </div> <div class="text-sm text-text-muted"> </div></div>'),wr[h],[[33,16,[[34,20,[[35,24]]],[37,20]]]]),rd=w(k('<section class="bg-surface border border-border rounded-lg shadow-sm overflow-hidden"><h2 class="text-xs font-semibold px-4 py-3 uppercase tracking-wider text-text-muted border-b border-border"><i class="fa-solid fa-screwdriver-wrench mr-1.5"></i> Registered Tools</h2> <div class="p-3 max-h-[600px] overflow-y-auto custom-scroll"><!></div></section>'),wr[h],[[24,0,[[25,4,[[26,8]]],[28,4]]]]);function wr(e,t){ot(new.target),rt(t,!0,wr);let r=j(q(Ne([])),"tools");async function n(){try{E(r,(await H(ae("GET","/api/tools")))(),!0)}catch(p){console.error(...Pe("error","loadTools:",p))}}At(()=>{U(fe.currentTab,"tools")&&(fe.refreshCounter,n())});var a={...lt()},i=rd(),s=v(c(i),2),l=c(s);{var d=p=>{var u=ed();m(p,u)},g=p=>{var u=ht(),f=ye(u);A(()=>qe(f,17,()=>o(r),y=>y.name,(y,x)=>{var C=td(),b=c(C),T=v(c(b),1,!0);var L=v(b,2),$=c(L,!0);B(()=>{N(T,o(x).name),N($,o(x).description)}),m(y,C)}),"each",wr,32,12),m(p,u)};A(()=>z(l,p=>{U(o(r).length,0)?p(d):p(g,!1)}),"if",wr,29,8)}return m(e,i),nt(a)}Ae[h]="src/App.svelte";var nd=w(k("<button><i></i> </button>"),Ae[h],[[81,16,[[86,20]]]]),ad=w(k('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><!> <!> <!> <!></div>'),Ae[h],[[92,12]]),id=w(k('<!> <main class="p-6"><div class="flex border-b border-border mb-4"></div> <!></main>',1),Ae[h],[[78,4,[[79,8]]]]);function Ae(e,t){ot(new.target),rt(t,!0,Ae);const r=3e4,n=[{id:"overview",label:"Overview",icon:"fa-chart-line"},{id:"chat",label:"Chat",icon:"fa-comments"},{id:"skills",label:"Skills",icon:"fa-puzzle-piece"},{id:"knowledge",label:"Knowledge",icon:"fa-diagram-project"},{id:"tools",label:"Tools",icon:"fa-screwdriver-wrench"}];function a(x){fe.currentTab=x}async function i(){try{const x=(await H(fetch("/api/auth/check")))(),C=(await H(x.json()))();Zt.authenticated=U(C.authenticated,!0)}catch{Zt.authenticated=!1}finally{Zt.checked=!0}}ls(()=>{i()});let s,l;At(()=>(Zt.authenticated&&(hn(()=>Ut()),s=new EventSource("/api/events"),s.onmessage=()=>Ut(),s.onerror=()=>console.error("SSE connection lost, will retry..."),l=setInterval(Ut,r)),()=>{s==null||s.close(),s=void 0,l&&(clearInterval(l),l=void 0)}));var d={...lt()},g=ht(),p=ye(g);{var u=x=>{},f=x=>{A(()=>nr(x,{}),"component",Ae,74,4,{componentTag:"LoginOverlay"})},y=x=>{var C=id(),b=ye(C);A(()=>Yr(b,{}),"component",Ae,76,4,{componentTag:"Header"});var T=v(b,2),L=c(T);A(()=>qe(L,21,()=>n,zr,(R,F)=>{var S=nd();let M;var Q=c(S),X=v(Q);B(()=>{M=Te(S,1,"main-tab",null,M,{active:U(fe.currentTab,o(F).id)}),Te(Q,1,`fa-solid ${o(F).icon??""} mr-1.5`),N(X,` ${o(F).label??""}`)}),ee("click",S,function(){return a(o(F).id)}),m(R,S)}),"each",Ae,80,12);var $=v(L,2);{var K=R=>{var F=ad(),S=c(F);A(()=>yr(S,{}),"component",Ae,93,16,{componentTag:"PendingActions"});var M=v(S,2);A(()=>qt(M,{}),"component",Ae,94,16,{componentTag:"ActivityLog"});var Q=v(M,2);A(()=>$e(Q,{}),"component",Ae,95,16,{componentTag:"MemoryPanel"});var X=v(Q,2);A(()=>Gt(X,{}),"component",Ae,96,16,{componentTag:"StatsPanel"}),m(R,F)},J=R=>{A(()=>Re(R,{}),"component",Ae,99,12,{componentTag:"ChatTab"})},O=R=>{A(()=>se(R,{}),"component",Ae,101,12,{componentTag:"SkillsTab"})},D=R=>{A(()=>Tt(R,{}),"component",Ae,103,12,{componentTag:"KnowledgeTab"})},G=R=>{A(()=>wr(R,{}),"component",Ae,105,12,{componentTag:"ToolsTab"})};A(()=>z($,R=>{U(fe.currentTab,"overview")?R(K):U(fe.currentTab,"chat")?R(J,1):U(fe.currentTab,"skills")?R(O,2):U(fe.currentTab,"knowledge")?R(D,3):U(fe.currentTab,"tools")&&R(G,4)}),"if",Ae,91,8)}m(x,C)};A(()=>z(p,x=>{Zt.checked?Zt.authenticated?x(y,!1):x(f,1):x(u)}),"if",Ae,71,0)}return m(e,g),nt(d)}sr(["click"]);Wo(Ae,{target:document.getElementById("app")});
